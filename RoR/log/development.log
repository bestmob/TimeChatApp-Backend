Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 23.4480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 21.2650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9380ms
  Rendered user_mailer/welcome.html.haml (53.3ms)

UserMailer#welcome: processed outbound mail in 124.3ms

Sent mail to tester@email.com (25.9ms)
Date: Mon, 15 Sep 2014 11:03:07 +0200
From: support@timechat.com.au
To: tester@email.com
Message-ID: <5416ab4bdfb0a_161c63ff6e5c2dbe0872f0@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi Admin Tester!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/53ec5a10436875e9f8000000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Overwriting existing field avatar in class User.
  Rendered user_mailer/welcome.html.haml (6.6ms)

UserMailer#welcome: processed outbound mail in 21.2ms

Sent mail to tester@email.com (17.3ms)
Date: Mon, 15 Sep 2014 11:05:09 +0200
From: support@timechat.com.au
To: tester@email.com
Message-ID: <5416abc590f4b_161c63ff6e5c2dbe08733e@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi Admin Tester!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/53ec5a10436875e9f8000000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 68.8710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 23.6210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('53f481344368754ee5070000')}} runtime: 54.3290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6820ms
Overwriting existing field avatar in class User.
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 51.5700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 27.9080ms
Overwriting existing field avatar in class User.
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.7520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9100ms
Overwriting existing field avatar in class User.
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field avatar in class User.
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.9940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{}} runtime: 20.3920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"created_at"=>{"$gte"=>2014-10-03 14:30:40 UTC}}} runtime: 49.5860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"created_at"=>{"$lte"=>2014-10-03 14:30:46 UTC}}} runtime: 0.5990ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"created_at"=>{"$lte"=>2014-10-03 00:00:00 UTC}}} runtime: 0.6570ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"created_at"=>{"$gte"=>2014-10-03 00:00:00 UTC}}} runtime: 0.6030ms
Overwriting existing field avatar in class User.


Started GET "/api/v1/accounts/sign_in?eamil=test1@email.com&password=[FILTERED]" for 127.0.0.1 at 2014-10-06 12:25:48 +0200

ActionController::RoutingError (No route matches [GET] "/api/v1/accounts/sign_in"):
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:38:in `call_app'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:20:in `block in call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:68:in `block in tagged'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:26:in `tagged'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:68:in `tagged'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:20:in `call'
  vendor/bundle/gems/quiet_assets-1.0.3/lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/static.rb:64:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/sendfile.rb:112:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/engine.rb:514:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/application.rb:144:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:86:in `block in pre_process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:84:in `catch'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:84:in `pre_process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:53:in `process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:39:in `receive_data'
  vendor/bundle/gems/eventmachine-1.0.3/lib/eventmachine.rb:187:in `run_machine'
  vendor/bundle/gems/eventmachine-1.0.3/lib/eventmachine.rb:187:in `run'
  vendor/bundle/gems/thin-1.6.2/lib/thin/backends/base.rb:73:in `start'
  vendor/bundle/gems/thin-1.6.2/lib/thin/server.rb:162:in `start'
  vendor/bundle/gems/rack-1.5.2/lib/rack/handler/thin.rb:16:in `run'
  vendor/bundle/gems/rack-1.5.2/lib/rack/server.rb:264:in `start'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/server.rb:69:in `start'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:81:in `block in server'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:76:in `tap'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:76:in `server'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.1ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.3ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (60.5ms)


Started POST "/api/v1/accounts/sign_in" for 127.0.0.1 at 2014-10-06 12:26:54 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#create_session as */*
  Parameters: {"email"=>"test1@email.com", "password"=>"[FILTERED]"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.1570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test1@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 57.5790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>"test1@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7890ms
Completed 200 OK in 85ms (Views: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-10-06 23:56:32 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.2ms)
  Rendered layouts/_navigation.html.haml (5.6ms)
  Rendered layouts/_messages.html.haml (3.6ms)
  Rendered layouts/_footer.html.haml (2.4ms)
Completed 200 OK in 1342ms (Views: 1335.4ms)
Overwriting existing field avatar in class User.
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.4760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"created_at"=>{"$gte"=>2014-10-11 00:00:00 UTC}}} runtime: 0.5040ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.1610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 24.4560ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.7930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 52.2210ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f481344368754ee5070000')} update={"$set"=>{"theme_type"=>"1", "time_zone"=>"-7", "updated_at"=>2014-10-11 03:26:53 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7810ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.5360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test6.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 71.6880ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.2470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 49.2570ms
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 26.3150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 61.3870ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4690ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.0700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 49.0170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6770ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.8400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.2110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.7080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.3300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.7300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.3950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.5380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.9100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.8970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.2390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.1560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 3.3940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test5@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5010ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 35.7340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 18.0510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 13.5090ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\ATest7$/i, :_id=>{"$ne"=>BSON::ObjectId('53ec5a10436875e9f8000000')}} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.9520ms
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 2.0180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 32.2310ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f223114368758517020000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8280ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f259e243687585170c0000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6880ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f1c7b84368757d32000000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7800ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f1c8ad4368757d32020000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5710ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f2593043687585170b0000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f053834368755c6f000000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5990ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53ec7296436875ee65000000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5700ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f003d443687535b9040000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 38.1670ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f0115b43687535b9050000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7740ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f1c8414368757d32010000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6830ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f221c94368758517010000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f469d74368754ee5000000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6630ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f472e24368754ee5020000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7740ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f481344368754ee5070000')} update={"$set"=>{"push_sound"=>"default", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5640ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53ec5a10436875e9f8000000')} update={"$set"=>{"theme_type"=>"1", "push_sound"=>"default", "friend_ids"=>"", "invited_friend_ids"=>"", "updated_at"=>2014-10-15 14:39:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 30.3880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 57.6210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 31.9880ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('540fa49b436875bcaa000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.0470ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:41:05 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test10@email.com", "password"=>"[FILTERED]", "user_id"=>"test10", "user_name"=>"test10", "dev_id"=>"1234456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.0170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test10@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3650ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6950ms
Completed 200 OK in 240ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:41:27 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test10@email.com", "password"=>"[FILTERED]", "user_id"=>"test10", "user_name"=>"test111", "dev_id"=>"1234456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test10@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6230ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5680ms
Completed 200 OK in 77ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:41:54 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test10@email.com", "password"=>"[FILTERED]", "user_name"=>"test111", "dev_id"=>"1234456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test10@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5000ms
Completed 200 OK in 77ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:42:10 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test111@email.com", "password"=>"[FILTERED]", "user_name"=>"test111", "dev_id"=>"1234456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test111@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.7320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5730ms
Completed 200 OK in 80ms (Views: 0.2ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.1000ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.2550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.1670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f223114368758517020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 30.4780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f223114368758517020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6230ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f223114368758517020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f223114368758517020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6500ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f223114368758517020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f259e243687585170c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3330ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f259e243687585170c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f259e243687585170c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f259e243687585170c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2560ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f259e243687585170c0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f2593043687585170b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f2593043687585170b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f2593043687585170b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f2593043687585170b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3160ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f2593043687585170b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f003d443687535b9040000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f003d443687535b9040000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f003d443687535b9040000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f003d443687535b9040000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3960ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f003d443687535b9040000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f0115b43687535b9050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f0115b43687535b9050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f0115b43687535b9050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f0115b43687535b9050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3500ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f0115b43687535b9050000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f221c94368758517010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f221c94368758517010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f221c94368758517010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f221c94368758517010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3150ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f221c94368758517010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4240ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3480ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f481344368754ee5070000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f1c8ad4368757d32020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f1c8ad4368757d32020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f1c8ad4368757d32020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f1c8ad4368757d32020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3310ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f1c8ad4368757d32020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53ec7296436875ee65000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53ec7296436875ee65000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53ec7296436875ee65000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53ec7296436875ee65000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2190ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53ec7296436875ee65000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f1c8414368757d32010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f1c8414368757d32010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f1c8414368757d32010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f1c8414368757d32010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3940ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f1c8414368757d32010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f469d74368754ee5000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f469d74368754ee5000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f469d74368754ee5000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f469d74368754ee5000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3200ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f469d74368754ee5000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f472e24368754ee5020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f472e24368754ee5020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f472e24368754ee5020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f472e24368754ee5020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2680ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f472e24368754ee5020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53ec5a10436875e9f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53ec5a10436875e9f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53ec5a10436875e9f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53ec5a10436875e9f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3840ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=comments selector={"_id"=>BSON::ObjectId('53f462234368754bd0060000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 23.8630ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53ec5a10436875e9f8000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f1c7b84368757d32000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f1c7b84368757d32000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f1c7b84368757d32000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f1c7b84368757d32000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4150ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f1c7b84368757d32000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('53f053834368755c6f000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('53f053834368755c6f000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3270ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('53f053834368755c6f000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('53f053834368755c6f000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3610ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('53f053834368755c6f000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3830ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:43:53 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test1@email.com", "password"=>"[FILTERED]", "user_name"=>"test1", "dev_id"=>"1234456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test1@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6510ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5100ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "email"=>"test1@email.com", "name"=>nil, "encrypted_password"=>"$2a$10$dnG.0W5q1nl1BOrsDM/dvu3ZlnMO6kdFUoFLlGCmxSl1uOjz.V0C.", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-", "updated_at"=>2014-10-15 14:43:54 UTC, "created_at"=>2014-10-15 14:43:54 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6740ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "dev_id"=>"1234456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 45.0960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "dev_id"=>"1234456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e882a4368753bb1010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1234456789", "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:43:54 UTC, "created_at"=>2014-10-15 14:43:54 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5380ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:43:54 UTC, "current_sign_in_at"=>2014-10-15 14:43:54 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:43:54 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3990ms
  Rendered user_mailer/welcome.html.haml (58.9ms)

UserMailer#welcome: processed outbound mail in 189.4ms

Sent mail to test1@email.com (96.7ms)
Date: Wed, 15 Oct 2014 16:43:54 +0200
From: support@timechat.com.au
To: test1@email.com
Message-ID: <543e882aa411c_13bb13fda0982dbec8944e@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi !</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e882a4368753bb1000000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 543ms (Views: 4.9ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:44:13 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test2@email.com", "password"=>"[FILTERED]", "user_name"=>"test2", "dev_id"=>"1234456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test2@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5630ms
Completed 200 OK in 79ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:44:30 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test2@email.com", "password"=>"[FILTERED]", "user_name"=>"test2", "dev_id"=>"12asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test2@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5000ms
Completed 200 OK in 77ms (Views: 0.3ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4880ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:45:26 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test2@email.com", "password"=>"[FILTERED]", "user_name"=>"test2", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test2@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5690ms
Completed 200 OK in 80ms (Views: 0.2ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test2@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest2$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"r4ykjzmxiuLjJa9Cny4x"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3690ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e88964368753c07010000'), "email"=>"test2@email.com", "name"=>"test2", "encrypted_password"=>"$2a$10$kAuHvewmDEFcE8ib.42pCeVUKx441Hkau84UWZeBS1ekZm4dJOlZm", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>"0", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"r4ykjzmxiuLjJa9Cny4x", "updated_at"=>2014-10-15 14:46:19 UTC, "created_at"=>2014-10-15 14:46:19 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5820ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4340ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:47:01 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test3@email.com", "password"=>"[FILTERED]", "user_name"=>"test3", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.7900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test3@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4150ms
Completed 200 OK in 81ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:47:50 +0200
Overwriting existing field avatar in class User.

SyntaxError (/Volumes/Work/Workspace/rails/timechatnet/app/controllers/home_controller.rb:70: syntax error, unexpected '}', expecting =>):
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:443:in `load'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:443:in `block in load_file'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:633:in `new_constants_in'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:442:in `load_file'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:342:in `require_or_load'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:480:in `load_missing_constant'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:180:in `const_missing'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/inflector/methods.rb:238:in `const_get'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/inflector/methods.rb:238:in `block in constantize'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/inflector/methods.rb:236:in `each'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/inflector/methods.rb:236:in `inject'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/inflector/methods.rb:236:in `constantize'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:552:in `get'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/dependencies.rb:583:in `constantize'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/routing/route_set.rb:66:in `controller'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/routing/route_set.rb:44:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/journey/router.rb:59:in `each'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/journey/router.rb:59:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/routing/route_set.rb:676:in `call'
  vendor/bundle/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
  vendor/bundle/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
  vendor/bundle/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:186:in `call!'
  vendor/bundle/gems/omniauth-1.2.2/lib/omniauth/strategy.rb:164:in `call'
  vendor/bundle/gems/omniauth-1.2.2/lib/omniauth/builder.rb:59:in `call'
  vendor/bundle/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  vendor/bundle/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
  vendor/bundle/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
  vendor/bundle/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/conditionalget.rb:35:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/flash.rb:254:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
  vendor/bundle/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/cookies.rb:560:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/callbacks.rb:82:in `run_callbacks'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/reloader.rb:73:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  vendor/bundle/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:58:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:38:in `call_app'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:20:in `block in call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:68:in `block in tagged'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:26:in `tagged'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:68:in `tagged'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:20:in `call'
  vendor/bundle/gems/quiet_assets-1.0.3/lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/static.rb:64:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/sendfile.rb:112:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/engine.rb:514:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/application.rb:144:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:86:in `block in pre_process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:84:in `catch'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:84:in `pre_process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:53:in `process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:39:in `receive_data'
  vendor/bundle/gems/eventmachine-1.0.3/lib/eventmachine.rb:187:in `run_machine'
  vendor/bundle/gems/eventmachine-1.0.3/lib/eventmachine.rb:187:in `run'
  vendor/bundle/gems/thin-1.6.2/lib/thin/backends/base.rb:73:in `start'
  vendor/bundle/gems/thin-1.6.2/lib/thin/server.rb:162:in `start'
  vendor/bundle/gems/rack-1.5.2/lib/rack/handler/thin.rb:16:in `run'
  vendor/bundle/gems/rack-1.5.2/lib/rack/server.rb:264:in `start'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/server.rb:69:in `start'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:81:in `block in server'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:76:in `tap'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:76:in `server'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.1ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:48:06 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test3@email.com", "password"=>"[FILTERED]", "user_name"=>"test3", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test3@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5370ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6550ms
Completed 200 OK in 115ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:48:42 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test3@email.com", "password"=>"[FILTERED]", "user_name"=>"test3", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test3@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5070ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5490ms
Completed 200 OK in 174ms (Views: 57.8ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:49:20 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test3@email.com", "password"=>"[FILTERED]", "username"=>"test3", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test3@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest3$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"D1a-KucGX9ARdRtrg4my"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e89704368753bb1030000'), "email"=>"test3@email.com", "name"=>"test3", "encrypted_password"=>"$2a$10$MKidY9rbBxHqmF74JFTVOujrP3P.6Nd4Koh2ZrnJEvCU1//2LRWIm", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"D1a-KucGX9ARdRtrg4my", "updated_at"=>2014-10-15 14:49:20 UTC, "created_at"=>2014-10-15 14:49:20 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e89704368753bb1030000'), "dev_id"=>"1sdf2asdf34456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e89704368753bb1030000'), "dev_id"=>"1sdf2asdf34456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4660ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e89704368753bb1040000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1sdf2asdf34456789", "user_id"=>BSON::ObjectId('543e89704368753bb1030000'), "updated_at"=>2014-10-15 14:49:20 UTC, "created_at"=>2014-10-15 14:49:20 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5160ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e89704368753bb1030000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:49:20 UTC, "current_sign_in_at"=>2014-10-15 14:49:20 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:49:20 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4410ms
  Rendered user_mailer/welcome.html.haml (1.3ms)

UserMailer#welcome: processed outbound mail in 30.5ms

Sent mail to test3@email.com (17.0ms)
Date: Wed, 15 Oct 2014 16:49:20 +0200
From: support@timechat.com.au
To: test3@email.com
Message-ID: <543e89702ed42_13bb13fda0982dbec8952f@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test3!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e89704368753bb1030000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 150ms (Views: 4.6ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:49:32 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test4@email.com", "password"=>"[FILTERED]", "username"=>"test4", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test4@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest4$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"UcJj_XwcJo19PUzMQPyv"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4240ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e897c4368753bb1050000'), "email"=>"test4@email.com", "name"=>"test4", "encrypted_password"=>"$2a$10$6qEk.iAgTXyOON1AHDSK/ebm9Q6mD8fzKW4z5uF/2fRwNdD4PPlzC", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"UcJj_XwcJo19PUzMQPyv", "updated_at"=>2014-10-15 14:49:32 UTC, "created_at"=>2014-10-15 14:49:32 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e897c4368753bb1050000'), "dev_id"=>"1sdf2asdf34456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e897c4368753bb1050000'), "dev_id"=>"1sdf2asdf34456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4180ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e897c4368753bb1060000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1sdf2asdf34456789", "user_id"=>BSON::ObjectId('543e897c4368753bb1050000'), "updated_at"=>2014-10-15 14:49:32 UTC, "created_at"=>2014-10-15 14:49:32 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e897c4368753bb1050000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:49:32 UTC, "current_sign_in_at"=>2014-10-15 14:49:32 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:49:32 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4500ms
  Rendered user_mailer/welcome.html.haml (1.4ms)

UserMailer#welcome: processed outbound mail in 16.0ms

Sent mail to test4@email.com (25.2ms)
Date: Wed, 15 Oct 2014 16:49:32 +0200
From: support@timechat.com.au
To: test4@email.com
Message-ID: <543e897c867cf_13bb13fda0982dbec896b@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test4!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e897c4368753bb1050000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 150ms (Views: 4.3ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5480ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3130ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.5720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4310ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8a064368753c07020000'), "status"=>404, "message"=>"test4 has joined into TimeChat", "data"=>"543e897c4368753bb1050000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:51:50 UTC, "created_at"=>2014-10-15 14:51:50 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7370ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:53:08 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test5@email.com", "password"=>"[FILTERED]", "username"=>"test5", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.8290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test5@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3370ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest5$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"SYx34FKGN5ymWBncWw7o"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5030ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "email"=>"test5@email.com", "name"=>"test5", "encrypted_password"=>"$2a$10$yJ2KojsHqTFp38xj7MnqROSNfVfn1O6cvKTWQZ13woipvwe2HX592", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"SYx34FKGN5ymWBncWw7o", "updated_at"=>2014-10-15 14:53:09 UTC, "created_at"=>2014-10-15 14:53:09 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "dev_id"=>"1sdf2asdf34456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "dev_id"=>"1sdf2asdf34456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4410ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e8a554368753bb1080000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1sdf2asdf34456789", "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-15 14:53:09 UTC, "created_at"=>2014-10-15 14:53:09 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4580ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8a554368753bb1070000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:53:09 UTC, "current_sign_in_at"=>2014-10-15 14:53:09 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:53:09 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5740ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3380ms
  Rendered user_mailer/welcome.html.haml (1.2ms)

UserMailer#welcome: processed outbound mail in 12.2ms

Sent mail to test5@email.com (17.5ms)
Date: Wed, 15 Oct 2014 16:53:09 +0200
From: support@timechat.com.au
To: test5@email.com
Message-ID: <543e8a553bafd_13bb13fda0982dbec89764@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test5!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e8a554368753bb1070000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 167ms (Views: 4.2ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4770ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"auto_notify_friend"=>true}} runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"auto_notify_friend"=>true, "updated_at"=>2014-10-15 14:54:54 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8a554368753bb1070000')} update={"$set"=>{"auto_notify_friend"=>true, "updated_at"=>2014-10-15 14:55:10 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8410ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:55:44 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8490ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"9p44eE-Vst-wxeWnBMay"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e8af14368753bb1090000'), "email"=>"test6@email.com", "name"=>"test6", "encrypted_password"=>"$2a$10$KhKWmgSymHQlJJEEyJd3B.j/EhQczL.j1S8FPbpZuYiFUR6eQgXB2", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"9p44eE-Vst-wxeWnBMay", "updated_at"=>2014-10-15 14:55:45 UTC, "created_at"=>2014-10-15 14:55:45 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7910ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8af14368753bb10a0000'), "status"=>404, "message"=>"test6 has joined into TimeChat", "data"=>"543e8af14368753bb1090000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:55:45 UTC, "created_at"=>2014-10-15 14:55:45 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6350ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8af14368753bb10b0000'), "status"=>404, "message"=>"test6 has joined into TimeChat", "data"=>"543e8af14368753bb1090000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-15 14:55:45 UTC, "created_at"=>2014-10-15 14:55:45 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e8af14368753bb1090000'), "dev_id"=>"1sdf2asdf34456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8af14368753bb1090000'), "dev_id"=>"1sdf2asdf34456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4640ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e8af14368753bb10c0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1sdf2asdf34456789", "user_id"=>BSON::ObjectId('543e8af14368753bb1090000'), "updated_at"=>2014-10-15 14:55:45 UTC, "created_at"=>2014-10-15 14:55:45 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4410ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8af14368753bb1090000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:55:45 UTC, "current_sign_in_at"=>2014-10-15 14:55:45 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:55:45 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6000ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8af14368753bb10d0000'), "status"=>404, "message"=>"test6 has joined into TimeChat", "data"=>"543e8af14368753bb1090000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:55:45 UTC, "created_at"=>2014-10-15 14:55:45 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5160ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8af14368753bb10e0000'), "status"=>404, "message"=>"test6 has joined into TimeChat", "data"=>"543e8af14368753bb1090000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-15 14:55:45 UTC, "created_at"=>2014-10-15 14:55:45 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4750ms
  Rendered user_mailer/welcome.html.haml (1.4ms)

UserMailer#welcome: processed outbound mail in 14.8ms

Sent mail to test6@email.com (21.6ms)
Date: Wed, 15 Oct 2014 16:55:45 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <543e8af138f0d_13bb13fda0982dbec898e9@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test6!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e8af14368753bb1090000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 182ms (Views: 4.7ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6040ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.6140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.5600ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.4950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4890ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8a064368753c07020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4600ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8af14368753bb10a0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3830ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8af14368753bb10b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3220ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8af14368753bb10d0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3430ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8af14368753bb10e0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.2740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.5900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.6110ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:56:33 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test7@email.com", "password"=>"[FILTERED]", "username"=>"test7", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test7@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.9180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest7$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"doCXqMT-4PxZzmt-z2SX"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e8b214368753bb10f0000'), "email"=>"test7@email.com", "name"=>"test7", "encrypted_password"=>"$2a$10$8G6hAQbNei8BJV.hJ7ls2uOABbGnk0rqmcmBGyDSvcMaMr0ghec.u", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"doCXqMT-4PxZzmt-z2SX", "updated_at"=>2014-10-15 14:56:33 UTC, "created_at"=>2014-10-15 14:56:33 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9400ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8b214368753bb1100000'), "status"=>404, "message"=>"test7 has joined into TimeChat", "data"=>"543e8b214368753bb10f0000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:56:33 UTC, "created_at"=>2014-10-15 14:56:33 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7070ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8b214368753bb1110000'), "status"=>404, "message"=>"test7 has joined into TimeChat", "data"=>"543e8b214368753bb10f0000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-15 14:56:33 UTC, "created_at"=>2014-10-15 14:56:33 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e8b214368753bb10f0000'), "dev_id"=>"1sdf2asdf34456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8b214368753bb10f0000'), "dev_id"=>"1sdf2asdf34456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5360ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e8b214368753bb1120000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1sdf2asdf34456789", "user_id"=>BSON::ObjectId('543e8b214368753bb10f0000'), "updated_at"=>2014-10-15 14:56:33 UTC, "created_at"=>2014-10-15 14:56:33 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8b214368753bb10f0000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:56:33 UTC, "current_sign_in_at"=>2014-10-15 14:56:33 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:56:33 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8700ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8b214368753bb1130000'), "status"=>404, "message"=>"test7 has joined into TimeChat", "data"=>"543e8b214368753bb10f0000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:56:33 UTC, "created_at"=>2014-10-15 14:56:33 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5810ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8b214368753bb1140000'), "status"=>404, "message"=>"test7 has joined into TimeChat", "data"=>"543e8b214368753bb10f0000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-15 14:56:33 UTC, "created_at"=>2014-10-15 14:56:33 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5810ms
  Rendered user_mailer/welcome.html.haml (2.4ms)

UserMailer#welcome: processed outbound mail in 20.6ms

Sent mail to test7@email.com (77.6ms)
Date: Wed, 15 Oct 2014 16:56:33 +0200
From: support@timechat.com.au
To: test7@email.com
Message-ID: <543e8b212a105_13bb13fda0982dbec89996@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test7!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e8b214368753bb10f0000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 211ms (Views: 1.3ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.5690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.5420ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4910ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8b214368753bb1100000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8b214368753bb1110000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4480ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8b214368753bb1130000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8b214368753bb1140000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.3090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8b214368753bb10f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6070ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('543e8b214368753bb1120000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e8b214368753bb10f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e8b214368753bb10f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e8b214368753bb10f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3660ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8b214368753bb10f0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4820ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-15 16:57:23 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test7@email.com", "password"=>"[FILTERED]", "username"=>"test7", "dev_id"=>"1sdf2asdf34456789", "social_type"=>"email", "time_zone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test7@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8980ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest7$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"p7Dy5Qsmk82vVMxBmLz6"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5650ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "email"=>"test7@email.com", "name"=>"test7", "encrypted_password"=>"$2a$10$omSBYY86DYHZufM2PyybNOL5BhvFrzUQqRZXyFoSO0Jy8N.f98GTS", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"p7Dy5Qsmk82vVMxBmLz6", "updated_at"=>2014-10-15 14:57:24 UTC, "created_at"=>2014-10-15 14:57:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.0060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "dev_id"=>"1sdf2asdf34456789"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "dev_id"=>"1sdf2asdf34456789"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4440ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('543e8b544368753bb1160000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"1sdf2asdf34456789", "user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "updated_at"=>2014-10-15 14:57:24 UTC, "created_at"=>2014-10-15 14:57:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8b544368753bb1150000')} update={"$set"=>{"last_sign_in_at"=>2014-10-15 14:57:24 UTC, "current_sign_in_at"=>2014-10-15 14:57:24 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-15 14:57:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6460ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8b544368753bb1170000'), "status"=>404, "message"=>"test7 has joined into TimeChat", "data"=>"543e8b544368753bb1150000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-15 14:57:24 UTC, "created_at"=>2014-10-15 14:57:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5390ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8b544368753bb1180000'), "status"=>404, "message"=>"test7 has joined into TimeChat", "data"=>"543e8b544368753bb1150000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-15 14:57:24 UTC, "created_at"=>2014-10-15 14:57:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5680ms
  Rendered user_mailer/welcome.html.haml (1.3ms)

UserMailer#welcome: processed outbound mail in 12.2ms

Sent mail to test7@email.com (20.4ms)
Date: Wed, 15 Oct 2014 16:57:24 +0200
From: support@timechat.com.au
To: test7@email.com
Message-ID: <543e8b549b7b7_13bb13fda0982dbec900a0@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test7!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/543e8b544368753bb1150000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 195ms (Views: 1.5ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.6200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.5670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.8070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8b544368753bb1170000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4860ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8b544368753bb1180000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8430ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.55 at 2014-10-15 17:00:13 +0200
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.8120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test2.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8bfe4368753bb1190000'), "status"=>402, "message"=>" wants to add you in his friends", "data"=>"543e882a4368753bb1000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e88964368753c07010000'), "updated_at"=>2014-10-15 15:00:14 UTC, "created_at"=>2014-10-15 15:00:14 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5100ms
  Rendered user_mailer/invite_friend.html.haml (8.2ms)

UserMailer#invite_friend: processed outbound mail in 60.3ms

ActionView::Template::Error (undefined method `capitalize' for nil:NilClass):
    10:         Dear
    11:         = @user.name.capitalize
    12:       %p
    13:         = "You are invited to join #{@friend.name.capitalize}."
    14:         %br/
    15:         Download TimeChat from your device!
    16:       %p
  app/views/user_mailer/invite_friend.html.haml:13:in `_app_views_user_mailer_invite_friend_html_haml___4587265190643279619_70205798059540'
  app/mailers/user_mailer.rb:23:in `invite_friend'
  app/models/notification.rb:77:in `send_mail'
  app/models/user.rb:140:in `send_invite_friend_notification'
  app/models/user.rb:278:in `add_friend'
  app/api/endpoints/friends.rb:148:in `block (2 levels) in <class:Friends>'


  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (15.3ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest1$/i, :_id=>{"$ne"=>BSON::ObjectId('543e882a4368753bb1000000')}} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5850ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"name"=>"test1", "updated_at"=>2014-10-15 15:01:51 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6150ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.55 at 2014-10-15 17:01:55 +0200
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test2.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5800ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8c644368753bb11a0000'), "status"=>402, "message"=>"test1 wants to add you in his friends", "data"=>"543e882a4368753bb1000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e88964368753c07010000'), "updated_at"=>2014-10-15 15:01:56 UTC, "created_at"=>2014-10-15 15:01:56 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4790ms
  Rendered user_mailer/invite_friend.html.haml (0.8ms)

UserMailer#invite_friend: processed outbound mail in 10.9ms

Sent mail to test2@email.com (22.0ms)
Date: Wed, 15 Oct 2014 17:01:56 +0200
From: support@timechat.com.au
To: test2@email.com
Message-ID: <543e8c642ee0f_13bb13fda0982dbec9012d@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test2
      </h3>
      <p>
        You are invited to join Test1.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000'), "is_read"=>false}} runtime: 0.9930ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 0.6490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4620ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"friend_ids"=>"543e88964368753c07010000", "invited_friend_ids"=>"543e88964368753c07010000", "updated_at"=>2014-10-15 15:01:56 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6110ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.6100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.6370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.6510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6490ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8bfe4368753bb1190000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5260ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8c644368753bb11a0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4580ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5120ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.55 at 2014-10-15 17:03:01 +0200
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test2.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9960ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"friend_ids"=>"", "invited_friend_ids"=>"", "updated_at"=>2014-10-15 15:03:14 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3270ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.55 at 2014-10-15 17:03:17 +0200
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test2.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5750ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8cb54368753bb11b0000'), "status"=>402, "message"=>"test1 wants to add you in his friends", "data"=>"543e882a4368753bb1000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e88964368753c07010000'), "updated_at"=>2014-10-15 15:03:17 UTC, "created_at"=>2014-10-15 15:03:17 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  Rendered user_mailer/invite_friend.html.haml (0.9ms)

UserMailer#invite_friend: processed outbound mail in 12.0ms

Sent mail to test2@email.com (18.3ms)
Date: Wed, 15 Oct 2014 17:03:17 +0200
From: support@timechat.com.au
To: test2@email.com
Message-ID: <543e8cb52cbda_13bb13fda0982dbec90226@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test2
      </h3>
      <p>
        You are invited to join Test1.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000'), "is_read"=>false}} runtime: 1.6660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 0.5800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5830ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"friend_ids"=>"543e88964368753c07010000", "invited_friend_ids"=>"543e88964368753c07010000", "updated_at"=>2014-10-15 15:03:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.2680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 0.4860ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.55 at 2014-10-15 17:03:37 +0200
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"j7JU-Ci2pSbGzN-1s6p-"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test3.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6700ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('543e8cc94368753bb11c0000'), "status"=>402, "message"=>"test1 wants to add you in his friends", "data"=>"543e882a4368753bb1000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e89704368753bb1030000'), "updated_at"=>2014-10-15 15:03:37 UTC, "created_at"=>2014-10-15 15:03:37 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5110ms
  Rendered user_mailer/invite_friend.html.haml (1.2ms)

UserMailer#invite_friend: processed outbound mail in 14.4ms

Sent mail to test3@email.com (22.4ms)
Date: Wed, 15 Oct 2014 17:03:37 +0200
From: support@timechat.com.au
To: test3@email.com
Message-ID: <543e8cc91876b_13bb13fda0982dbec903f7@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test3
      </h3>
      <p>
        You are invited to join Test1.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e89704368753bb1030000'), "is_read"=>false}} runtime: 1.3200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('543e89704368753bb1030000')}} runtime: 0.8860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e89704368753bb1030000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7190ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"friend_ids"=>"543e88964368753c07010000,543e89704368753bb1030000", "invited_friend_ids"=>"543e88964368753c07010000,543e89704368753bb1030000", "updated_at"=>2014-10-15 15:03:37 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.7210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e89704368753bb1030000')}} runtime: 0.5960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.4850ms
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-18 05:03:56 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test9@email.com", "password"=>"[FILTERED]", "username"=>"test9", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 29.7910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test9@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 16.7210ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest9$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 42.4900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"SnK-qT2YTNy6pzsLX9Kn"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9530ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "email"=>"test9@email.com", "name"=>"test9", "encrypted_password"=>"$2a$10$uHec5whRGkx9mLBl.RV5oOvtXxCCtMHb7fqT7llYqj46CcFdJRpzm", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>"8", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"SnK-qT2YTNy6pzsLX9Kn", "updated_at"=>2014-10-18 03:03:57 UTC, "created_at"=>2014-10-18 03:03:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "dev_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 14.7640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "dev_id"=>nil} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('5441d89d4368754f37010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>nil, "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-18 03:03:57 UTC, "created_at"=>2014-10-18 03:03:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4960ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"last_sign_in_at"=>2014-10-18 03:03:57 UTC, "current_sign_in_at"=>2014-10-18 03:03:57 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-18 03:03:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6640ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('5441d89d4368754f37020000'), "status"=>404, "message"=>"test9 has joined into TimeChat", "data"=>"5441d89d4368754f37000000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8a554368753bb1070000'), "updated_at"=>2014-10-18 03:03:57 UTC, "created_at"=>2014-10-18 03:03:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.5040ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('5441d89d4368754f37030000'), "status"=>404, "message"=>"test9 has joined into TimeChat", "data"=>"5441d89d4368754f37000000", "type"=>"added_new_user", "is_read"=>false, "user_id"=>BSON::ObjectId('543e882a4368753bb1000000'), "updated_at"=>2014-10-18 03:03:57 UTC, "created_at"=>2014-10-18 03:03:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5410ms
  Rendered user_mailer/welcome.html.haml (64.6ms)

UserMailer#welcome: processed outbound mail in 168.0ms

Sent mail to test9@email.com (31.4ms)
Date: Sat, 18 Oct 2014 05:03:58 +0200
From: support@timechat.com.au
To: test9@email.com
Message-ID: <5441d89e1fd74_4f373fd02582dbf866858@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test9!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/5441d89d4368754f37000000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 639ms (Views: 1.1ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.1370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.0110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"admin@timechat.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6570ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Aadmin$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"4ysnsjfNuBVamnNdB2oi"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4680ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('5441db204368754fd5000000'), "email"=>"admin@timechat.com", "name"=>"admin", "encrypted_password"=>"$2a$10$XP9O.5DNNpqc7ruzCK8OeO8uDN16gy4B3zicEq86eyT5o.WmXE86S", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"admin", "social_type"=>"email", "social_id"=>"", "time_zone"=>"0", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"default", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"4ysnsjfNuBVamnNdB2oi", "updated_at"=>2014-10-18 03:15:11 UTC, "created_at"=>2014-10-18 03:15:11 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7490ms
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-10-18 05:15:40 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (2.6ms)
  Rendered layouts/_footer.html.haml (1.9ms)
Completed 200 OK in 894ms (Views: 878.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:15:46 +0200
Processing by SessionsController#new as HTML
  Rendered devise/shared/_links.erb (1.4ms)
  Rendered devise/sessions/new.html.haml within layouts/application (202.5ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 214ms (Views: 211.1ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:16:10 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (11.0ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 20.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:16:18 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Iog+w9Nyf5XZLFVF+zwfqHxZQH+8TVhoiRerYLamrZ0=", "user"=>{"email"=>"test1@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.0830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test1@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8040ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"current_sign_in_at"=>2014-10-18 03:16:18 UTC, "current_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>2, "updated_at"=>2014-10-18 03:16:18 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6440ms
Redirected to http://localhost:3000/
Completed 302 Found in 184ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:16:18 +0200
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6110ms
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 13ms (Views: 10.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-10-18 05:16:24 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9140ms
Redirected to http://localhost:3000/
Filter chain halted as :authenticate_admin rendered or redirected
Completed 302 Found in 3ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:16:24 +0200
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6400ms
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (3.0ms)
  Rendered layouts/_footer.html.haml (44.4ms)
Completed 200 OK in 63ms (Views: 60.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-10-18 05:16:27 +0200
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PCQsAZv+F9fyEUslmdJl4NpvjFQzN3bdhgK52+xfS0E="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7540ms
Redirected to http://localhost:3000/
Completed 302 Found in 58ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:16:27 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 12ms (Views: 10.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:16:50 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.6ms)


Started GET "/users/password/new" for 127.0.0.1 at 2014-10-18 05:16:57 +0200
Processing by Devise::PasswordsController#new as HTML
  Rendered devise/shared/_links.erb (1.8ms)
  Rendered devise/passwords/new.html.erb within layouts/application (62.1ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 120ms (Views: 119.1ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:17:14 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (13.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:17:35 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.6ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 21.7ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:17:37 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.5ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 18.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:17:39 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"dsJirG3dCj5fs5E395nBRQRg6zYFAdjoFxi0H3gkR+U=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"dsJirG3dCj5fs5E395nBRQRg6zYFAdjoFxi0H3gkR+U=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 19ms (Views: 17.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:17:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"dsJirG3dCj5fs5E395nBRQRg6zYFAdjoFxi0H3gkR+U=", "user"=>{"email"=>"test1@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test1@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1870ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"last_sign_in_at"=>2014-10-18 03:16:18 UTC, "current_sign_in_at"=>2014-10-18 03:17:49 UTC, "last_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>3, "updated_at"=>2014-10-18 03:17:49 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6770ms
Redirected to http://localhost:3000/
Completed 302 Found in 86ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:17:49 +0200
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.3570ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 7.8ms)


Started GET "/" for 127.0.0.1 at 2014-10-18 05:18:30 +0200
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7860ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (2.8ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 15ms (Views: 12.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-10-18 05:18:33 +0200
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4fqPrUrTYS5NxCnr/rvp4EBQD2QGYqsW8dSrAfRMsNE="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e882a4368753bb1000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8160ms
Redirected to http://localhost:3000/
Completed 302 Found in 7ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:18:33 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.7ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:18:35 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.2ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 20.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:18:53 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"L9JWT1TgeTwMrjYpup8XO8haV4jfPp/b0Q6BE7mVqM0=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"admin@timechat.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8180ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441db204368754fd5000000')} update={"$set"=>{"last_sign_in_at"=>2014-10-18 03:18:54 UTC, "current_sign_in_at"=>2014-10-18 03:18:54 UTC, "last_sign_in_ip"=>"127.0.0.1", "current_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>1, "updated_at"=>2014-10-18 03:18:54 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9400ms
Redirected to http://localhost:3000/
Completed 302 Found in 87ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:18:54 +0200
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9740ms
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 8.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-10-18 05:18:58 +0200
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"gw9/hCAjm4JyuRt6ErGKVRs3GjdsVfvB2O9w8jaxaZs="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
Redirected to http://localhost:3000/
Completed 302 Found in 8ms


Started GET "/" for 127.0.0.1 at 2014-10-18 05:18:58 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-18 05:18:58 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (12.6ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 22.6ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2650ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"_id"=>{"$in"=>[BSON::ObjectId('543e88964368753c07010000'), BSON::ObjectId('543e89704368753bb1030000')]}}} runtime: 0.8030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e88964368753c07010000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e89704368753bb1030000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>{"$in"=>[BSON::ObjectId('543e88964368753c07010000'), BSON::ObjectId('543e89704368753bb1030000')]}}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e88964368753c07010000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('543e89704368753bb1030000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5980ms
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 24.3680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 72.3160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8970ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest11$/i, :_id=>{"$ne"=>BSON::ObjectId('5441db204368754fd5000000')}} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8460ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441db204368754fd5000000')} update={"$set"=>{"name"=>"test11", "updated_at"=>2014-10-21 03:52:46 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 28.8240ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^.*test1.*$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"name"=>/^.*test1.*$/i}} runtime: 452.6730ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"name"=>/^test1$/i}} runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"name"=>/^test11$/i}} runtime: 0.7200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test11$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9610ms
Overwriting existing field avatar in class User.


Started GET "/" for 192.168.0.131 at 2014-10-22 14:46:53 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.9ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (3.7ms)
  Rendered layouts/_footer.html.haml (2.0ms)
Completed 200 OK in 735ms (Views: 718.9ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 61.4540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9270ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 38.6510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9370ms


Started GET "/api/v1/accounts/get_profile?email=siteuser1@email.com" for 192.168.0.55 at 2014-10-22 17:00:47 +0200
Overwriting existing field avatar in class User.

ActionController::RoutingError (No route matches [GET] "/api/v1/accounts/get_profile"):
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:38:in `call_app'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:20:in `block in call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:68:in `block in tagged'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:26:in `tagged'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/tagged_logging.rb:68:in `tagged'
  vendor/bundle/gems/railties-4.1.0/lib/rails/rack/logger.rb:20:in `call'
  vendor/bundle/gems/quiet_assets-1.0.3/lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
  vendor/bundle/gems/activesupport-4.1.0/lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
  vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/static.rb:64:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/sendfile.rb:112:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/engine.rb:514:in `call'
  vendor/bundle/gems/railties-4.1.0/lib/rails/application.rb:144:in `call'
  vendor/bundle/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:86:in `block in pre_process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:84:in `catch'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:84:in `pre_process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:53:in `process'
  vendor/bundle/gems/thin-1.6.2/lib/thin/connection.rb:39:in `receive_data'
  vendor/bundle/gems/eventmachine-1.0.3/lib/eventmachine.rb:187:in `run_machine'
  vendor/bundle/gems/eventmachine-1.0.3/lib/eventmachine.rb:187:in `run'
  vendor/bundle/gems/thin-1.6.2/lib/thin/backends/base.rb:73:in `start'
  vendor/bundle/gems/thin-1.6.2/lib/thin/server.rb:162:in `start'
  vendor/bundle/gems/rack-1.5.2/lib/rack/handler/thin.rb:16:in `run'
  vendor/bundle/gems/rack-1.5.2/lib/rack/server.rb:264:in `start'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/server.rb:69:in `start'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:81:in `block in server'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:76:in `tap'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:76:in `server'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  vendor/bundle/gems/railties-4.1.0/lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (6989.9ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (7126.9ms)


Started GET "/" for 192.168.0.51 at 2014-10-22 17:08:39 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (1.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 106ms (Views: 104.6ms)


Started HEAD "/" for 192.168.0.51 at 2014-10-22 17:08:41 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.2ms)


Started GET "/" for 127.0.0.1 at 2014-10-22 17:10:56 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 78ms (Views: 76.9ms)
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.4360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 30.4920ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} update={"$set"=>{"friend_ids"=>"", "invited_friend_ids"=>"", "updated_at"=>2014-10-23 02:13:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 23.5580ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 49.9600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 27.2730ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8cb54368753bb11b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 46.8940ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('543e8cc94368753bb11c0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6800ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('5441d89d4368754f37020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5710ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('5441d89d4368754f37030000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5980ms
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-10-23 04:13:52 +0200
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (19.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (3.6ms)
  Rendered layouts/_footer.html.haml (1.9ms)
Completed 200 OK in 1117ms (Views: 1100.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-10-23 04:13:56 +0200
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (202.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 230ms (Views: 226.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-23 04:14:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.4150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"admin@example.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6020ms
Completed 401 Unauthorized in 55ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 132ms (Views: 56.8ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.9280ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-23 04:14:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"admin@timechat.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7660ms
Completed 401 Unauthorized in 80ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (14.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 103ms (Views: 24.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-23 04:14:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"admin@timechat.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8720ms
Completed 401 Unauthorized in 79ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.3ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 94ms (Views: 18.1ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7200ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441db204368754fd5000000')} update={"$set"=>{"encrypted_password"=>"$2a$10$9AOYy8gWuj2jQvhVnbyWOu7lCJH31ht/Ljors96yTrO6YEQDcFqKi", "updated_at"=>2014-10-23 02:15:53 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9340ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-10-23 04:15:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"k1pj3iIZWc+QXxvxaTf6Y4bWlP3GanWgnny1cBRq08g=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"admin@timechat.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441db204368754fd5000000')} update={"$set"=>{"current_sign_in_at"=>2014-10-23 02:15:57 UTC, "sign_in_count"=>2, "updated_at"=>2014-10-23 02:15:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6330ms
Redirected to http://localhost:3000/
Completed 302 Found in 114ms


Started GET "/" for 127.0.0.1 at 2014-10-23 04:15:57 +0200
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8690ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:16:06 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.0500ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 1.2150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e89704368753bb1030000')}} runtime: 0.5880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')}} runtime: 0.3940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')}} runtime: 0.4060ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.6430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')}} runtime: 0.5960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.5140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.5040ms
  Rendered admin/users/index.html.haml within layouts/admin (40.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 71ms (Views: 66.0ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 74.6310ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('543e882a4368753bb1010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.0780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e882a4368753bb1000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7790ms


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:16:22 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e88964368753c07010000')}} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e89704368753bb1030000')}} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')}} runtime: 0.5510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.5800ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')}} runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.7860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.4960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.7040ms
  Rendered admin/users/index.html.haml within layouts/admin (20.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 31ms (Views: 26.5ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5260ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e88964368753c07010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e89704368753bb1030000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6060ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('543e89704368753bb1040000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e89704368753bb1030000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e89704368753bb1030000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e89704368753bb1030000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e89704368753bb1030000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9460ms


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:16:32 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')}} runtime: 0.6620ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.4640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')}} runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.4120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.5380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.4780ms
  Rendered admin/users/index.html.haml within layouts/admin (14.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 21.0ms)


Started DELETE "/admin/users/543e897c4368753bb1050000" for 127.0.0.1 at 2014-10-23 04:16:52 +0200
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"1hVCcpl2be0gDL4/wHh6ZRtTVHVfywVGAShIzkHtAIo=", "id"=>"543e897c4368753bb1050000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('543e897c4368753bb1060000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5490ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e897c4368753bb1050000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5380ms
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 128ms


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:16:52 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6850ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8610ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')}} runtime: 0.5670ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')}} runtime: 0.4980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.4270ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.4030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.3740ms
  Rendered admin/users/index.html.haml within layouts/admin (10.4ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 18.9ms)


Started DELETE "/admin/users/543e8a554368753bb1070000" for 127.0.0.1 at 2014-10-23 04:17:03 +0200
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"1hVCcpl2be0gDL4/wHh6ZRtTVHVfywVGAShIzkHtAIo=", "id"=>"543e8a554368753bb1070000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8a554368753bb1070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('543e8a554368753bb1080000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9240ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e8a554368753bb1070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4210ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8a554368753bb1070000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4930ms
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 13ms


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:17:03 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5630ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.1430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')}} runtime: 0.5430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.4850ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.6600ms
  Rendered admin/users/index.html.haml within layouts/admin (9.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 15.9ms)


Started DELETE "/admin/users/543e8af14368753bb1090000" for 127.0.0.1 at 2014-10-23 04:17:13 +0200
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"1hVCcpl2be0gDL4/wHh6ZRtTVHVfywVGAShIzkHtAIo=", "id"=>"543e8af14368753bb1090000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8af14368753bb1090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4920ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('543e8af14368753bb10c0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('543e8af14368753bb1090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4120ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('543e8af14368753bb1090000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5130ms
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 12ms


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:17:13 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5850ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.5370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.5240ms
  Rendered admin/users/index.html.haml within layouts/admin (7.8ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 16.9ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9110ms


Started POST "/api/v1/friends/add_friends_by_phone_book" for 192.168.0.55 at 2014-10-23 04:19:14 +0200
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"SnK-qT2YTNy6pzsLX9Kn"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test7@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5330ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 36.3000ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=user_temp_notifications documents=[{"_id"=>BSON::ObjectId('544865a24368759815000000'), "email"=>"test6@email.com", "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-23 02:19:14 UTC, "created_at"=>2014-10-23 02:19:14 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 120.7290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test5@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"email"=>"test5@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=user_temp_notifications documents=[{"_id"=>BSON::ObjectId('544865a34368759815010000'), "email"=>"test5@email.com", "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-23 02:19:15 UTC, "created_at"=>2014-10-23 02:19:15 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('544865a34368759815020000'), "status"=>402, "message"=>"test9 wants to add you in his friends", "data"=>"5441d89d4368754f37000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "updated_at"=>2014-10-23 02:19:15 UTC, "created_at"=>2014-10-23 02:19:15 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4680ms
  Rendered user_mailer/invite_friend.html.haml (70.1ms)

UserMailer#invite_friend: processed outbound mail in 158.7ms

Sent mail to test7@email.com (87.6ms)
Date: Thu, 23 Oct 2014 04:19:15 +0200
From: support@timechat.com.au
To: test7@email.com
Message-ID: <544865a34151a_98153fd3ed02dbf856532@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test7
      </h3>
      <p>
        You are invited to join Test9.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "is_read"=>false}} runtime: 0.9880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.4600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5640ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"543e8b544368753bb1150000", "invited_friend_ids"=>"543e8b544368753bb1150000", "updated_at"=>2014-10-23 02:19:15 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6060ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"user_temp_notifications", :query=>{}} runtime: 0.3370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"user_temp_notifications", :query=>{}} runtime: 0.4620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=user_temp_notifications selector={"_id"=>BSON::ObjectId('544865a24368759815000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6190ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=user_temp_notifications selector={"_id"=>BSON::ObjectId('544865a34368759815010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.4620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('544865a34368759815020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8620ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"", "invited_friend_ids"=>"", "updated_at"=>2014-10-23 02:25:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3070ms


Started POST "/api/v1/friends/add_friends_by_phone_book" for 192.168.0.55 at 2014-10-23 04:25:40 +0200
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"SnK-qT2YTNy6pzsLX9Kn"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test7@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3700ms
  Rendered user_mailer/contact_user_email.html.haml (7.9ms)

UserMailer#contact_user_email: processed outbound mail in 40.5ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Dear):
    3:   %head
    4:     %meta{content: "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    5:   %body
    6:     %h1= Dear 
    7:     %p
    8:       You are invited to TIMECHAT, Please install this app
    9:       %br/
  app/views/user_mailer/contact_user_email.html.haml:6:in `_app_views_user_mailer_contact_user_email_html_haml___1871141149532756759_70179547728720'
  app/mailers/user_mailer.rb:21:in `contact_user_email'
  app/api/endpoints/friends.rb:204:in `block (3 levels) in <class:Friends>'
  app/api/endpoints/friends.rb:199:in `each'
  app/api/endpoints/friends.rb:199:in `block (2 levels) in <class:Friends>'


  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4620ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3430ms


Started POST "/api/v1/friends/add_friends_by_phone_book" for 192.168.0.55 at 2014-10-23 04:26:49 +0200
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"SnK-qT2YTNy6pzsLX9Kn"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test7@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5330ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3180ms
  Rendered user_mailer/contact_user_email.html.haml (3.0ms)

UserMailer#contact_user_email: processed outbound mail in 30.6ms

Sent mail to test6@email.com (65.7ms)
Date: Thu, 23 Oct 2014 04:26:49 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <5448676910d9a_98153fd3ed02dbf85662a@Chuis-Mac-mini.local.mail>
Subject: Timechat APP
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <h1>Dear</h1>
    <p>
      You are invited to TIMECHAT, Please install this app
      <br>
      <a href="javascript://">TimeChat</a>
      <br>
    </p>
    <p>
      Thank you,
      <br>
      TimeChat Team!
    </p>
  </body>
</html>

  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.7970ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=user_temp_notifications documents=[{"_id"=>BSON::ObjectId('544867694368759815030000'), "email"=>"test6@email.com", "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-23 02:26:49 UTC, "created_at"=>2014-10-23 02:26:49 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 28.6390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test5@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6880ms
  Rendered user_mailer/contact_user_email.html.haml (0.7ms)

UserMailer#contact_user_email: processed outbound mail in 19.7ms

Sent mail to test5@email.com (19.7ms)
Date: Thu, 23 Oct 2014 04:26:49 +0200
From: support@timechat.com.au
To: test5@email.com
Message-ID: <5448676933de8_98153fd3ed02dbf8567d2@Chuis-Mac-mini.local.mail>
Subject: Timechat APP
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <h1>Dear</h1>
    <p>
      You are invited to TIMECHAT, Please install this app
      <br>
      <a href="javascript://">TimeChat</a>
      <br>
    </p>
    <p>
      Thank you,
      <br>
      TimeChat Team!
    </p>
  </body>
</html>

  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"email"=>"test5@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 1.0380ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=user_temp_notifications documents=[{"_id"=>BSON::ObjectId('544867694368759815040000'), "email"=>"test5@email.com", "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-23 02:26:49 UTC, "created_at"=>2014-10-23 02:26:49 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.5290ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('544867694368759815050000'), "status"=>402, "message"=>"test9 wants to add you in his friends", "data"=>"5441d89d4368754f37000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "updated_at"=>2014-10-23 02:26:49 UTC, "created_at"=>2014-10-23 02:26:49 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
  Rendered user_mailer/invite_friend.html.haml (2.0ms)

UserMailer#invite_friend: processed outbound mail in 72.3ms

Sent mail to test7@email.com (18.8ms)
Date: Thu, 23 Oct 2014 04:26:49 +0200
From: support@timechat.com.au
To: test7@email.com
Message-ID: <5448676953336_98153fd3ed02dbf856896@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test7
      </h3>
      <p>
        You are invited to join Test9.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "is_read"=>false}} runtime: 1.2150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6200ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"543e8b544368753bb1150000", "invited_friend_ids"=>"543e8b544368753bb1150000", "updated_at"=>2014-10-23 02:26:49 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"user_temp_notifications", :query=>{}} runtime: 0.3560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5200ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=user_temp_notifications selector={"_id"=>BSON::ObjectId('544867694368759815030000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5520ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=user_temp_notifications selector={"_id"=>BSON::ObjectId('544867694368759815040000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9580ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"", "invited_friend_ids"=>"", "updated_at"=>2014-10-23 02:29:50 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7590ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4130ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('544867694368759815050000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4430ms


Started POST "/api/v1/friends/add_friends_by_phone_book" for 192.168.0.55 at 2014-10-23 04:30:01 +0200
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"SnK-qT2YTNy6pzsLX9Kn"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test7@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4190ms
  Rendered user_mailer/contact_user_email.html.haml (5.2ms)

UserMailer#contact_user_email: processed outbound mail in 17.0ms

Sent mail to test6@email.com (18.3ms)
Date: Thu, 23 Oct 2014 04:30:02 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <5448682a19d62_98153fd3ed02dbf85696f@Chuis-Mac-mini.local.mail>
Subject: Timechat APP
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
      </h3>
      <p>
        You are invited to Timechat by Test9.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=user_temp_notifications documents=[{"_id"=>BSON::ObjectId('5448682a4368759815060000'), "email"=>"test6@email.com", "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-23 02:30:02 UTC, "created_at"=>2014-10-23 02:30:02 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"test5@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5100ms
  Rendered user_mailer/contact_user_email.html.haml (4.2ms)

UserMailer#contact_user_email: processed outbound mail in 22.7ms

Sent mail to test5@email.com (29.3ms)
Date: Thu, 23 Oct 2014 04:30:02 +0200
From: support@timechat.com.au
To: test5@email.com
Message-ID: <5448682a2bea8_98153fd3ed02dbf8570cd@Chuis-Mac-mini.local.mail>
Subject: Timechat APP
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
      </h3>
      <p>
        You are invited to Timechat by Test9.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"email"=>"test5@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=user_temp_notifications documents=[{"_id"=>BSON::ObjectId('5448682a4368759815070000'), "email"=>"test5@email.com", "user_id"=>BSON::ObjectId('5441d89d4368754f37000000'), "updated_at"=>2014-10-23 02:30:02 UTC, "created_at"=>2014-10-23 02:30:02 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 2.0040ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('5448682a4368759815080000'), "status"=>402, "message"=>"test9 wants to add you in his friends", "data"=>"5441d89d4368754f37000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "updated_at"=>2014-10-23 02:30:02 UTC, "created_at"=>2014-10-23 02:30:02 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.1120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7780ms
  Rendered user_mailer/invite_friend.html.haml (1.8ms)

UserMailer#invite_friend: processed outbound mail in 23.4ms

Sent mail to test7@email.com (58.7ms)
Date: Thu, 23 Oct 2014 04:30:02 +0200
From: support@timechat.com.au
To: test7@email.com
Message-ID: <5448682a42ff3_98153fd3ed02dbf8571f4@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test7
      </h3>
      <p>
        You are invited to join Test9.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "is_read"=>false}} runtime: 1.8000ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.6620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6800ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"543e8b544368753bb1150000", "invited_friend_ids"=>"543e8b544368753bb1150000", "updated_at"=>2014-10-23 02:30:02 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8320ms


Started GET "/admin/users" for 127.0.0.1 at 2014-10-23 04:30:32 +0200
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441db204368754fd5000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 1.3730ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441db204368754fd5000000')}} runtime: 0.6450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5441d89d4368754f37000000')}} runtime: 0.5680ms
  Rendered admin/users/index.html.haml within layouts/admin (11.1ms)
  Rendered layouts/_navigation.html.haml (1.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 58ms (Views: 51.9ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.1590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6010ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-23 04:32:56 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"21928hksjhjkhjkfasdf", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 27.8050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"AjscLgsKGes91p7JeRgx"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6950ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('544868d94368759815090000'), "email"=>"test6@email.com", "name"=>"test6", "encrypted_password"=>"$2a$10$RoSejN69hd7W4a7myAcS1.8aHge3rglcJcVRNTxE4.0SDACZr9uh2", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>"8", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"AjscLgsKGes91p7JeRgx", "updated_at"=>2014-10-23 02:32:57 UTC, "created_at"=>2014-10-23 02:32:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"21928hksjhjkhjkfasdf"}} runtime: 0.5980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('544868d94368759815090000'), "dev_id"=>"21928hksjhjkhjkfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('544868d94368759815090000'), "dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4510ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('544868d943687598150a0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"21928hksjhjkhjkfasdf", "user_id"=>BSON::ObjectId('544868d94368759815090000'), "updated_at"=>2014-10-23 02:32:57 UTC, "created_at"=>2014-10-23 02:32:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 12.8290ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('544868d94368759815090000')} update={"$set"=>{"last_sign_in_at"=>2014-10-23 02:32:57 UTC, "current_sign_in_at"=>2014-10-23 02:32:57 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-23 02:32:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4510ms
  Rendered user_mailer/welcome.html.haml (7.4ms)

UserMailer#welcome: processed outbound mail in 52.9ms

Sent mail to test6@email.com (21.2ms)
Date: Thu, 23 Oct 2014 04:32:57 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <544868d9204e7_98153fd3ed02dbf85724d@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test6!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/544868d94368759815090000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 215ms (Views: 2.6ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('544868d94368759815090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 56.8160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('544868d94368759815090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4870ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('544868d943687598150a0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('544868d94368759815090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('544868d94368759815090000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3570ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('544868d94368759815090000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"user_temp_notifications", :query=>{}} runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"_id"=>"test6@email.com"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"_id"=>{:email=>"test6@email.com"}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441d89d4368754f37000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6410ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-23 04:36:11 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"21928hksjhjkhjkfasdf", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8150ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.7410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"zyiFjpmQ28SzMiPyEgsQ"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4620ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('5448699c43687598150b0000'), "email"=>"test6@email.com", "name"=>"test6", "encrypted_password"=>"$2a$10$dvAdbFBZgl6OYFiDAj00sOj0U9.Z5TrTlcFQrxxptGSMu25wekPQa", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>"8", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"zyiFjpmQ28SzMiPyEgsQ", "updated_at"=>2014-10-23 02:36:12 UTC, "created_at"=>2014-10-23 02:36:12 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"21928hksjhjkhjkfasdf"}} runtime: 0.5280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5448699c43687598150b0000'), "dev_id"=>"21928hksjhjkhjkfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5448699c43687598150b0000'), "dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4530ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('5448699c43687598150c0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"21928hksjhjkhjkfasdf", "user_id"=>BSON::ObjectId('5448699c43687598150b0000'), "updated_at"=>2014-10-23 02:36:12 UTC, "created_at"=>2014-10-23 02:36:12 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5448699c43687598150b0000')} update={"$set"=>{"last_sign_in_at"=>2014-10-23 02:36:12 UTC, "current_sign_in_at"=>2014-10-23 02:36:12 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-23 02:36:12 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3500ms
  Rendered user_mailer/welcome.html.haml (1.4ms)

UserMailer#welcome: processed outbound mail in 14.1ms

Sent mail to test6@email.com (18.0ms)
Date: Thu, 23 Oct 2014 04:36:12 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <5448699c3931d_98153fd3ed02dbf85732d@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test6!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/5448699c43687598150b0000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 173ms (Views: 5.6ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9090ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"", "invited_friend_ids"=>"", "updated_at"=>2014-10-23 02:37:12 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{}} runtime: 0.5480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5240ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('5448682a4368759815080000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4860ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-23 04:37:18 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"21928hksjhjkhjkfasdf", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.8920ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.7810ms
Completed 200 OK in 118ms (Views: 0.3ms)
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('544868d943687598150a0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('544868d94368759815090000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5990ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-23 04:37:30 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"21928hksjhjkhjkfasdf", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.7570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4710ms
Completed 200 OK in 79ms (Views: 0.2ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5448699c43687598150b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6890ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('5448699c43687598150c0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('5448699c43687598150b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('5448699c43687598150b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('5448699c43687598150b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3630ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5448699c43687598150b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4010ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-23 04:37:46 +0200
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"21928hksjhjkhjkfasdf", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"nTAwSPptxrzEvXfyNdNy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4110ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('544869fa43687598150d0000'), "email"=>"test6@email.com", "name"=>"test6", "encrypted_password"=>"$2a$10$LUaOv6v9EihtnKbGRXL/dOa0zpcR54b9xqMfAtTcjNoZePCycVO2C", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>"8", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"nTAwSPptxrzEvXfyNdNy", "updated_at"=>2014-10-23 02:37:46 UTC, "created_at"=>2014-10-23 02:37:46 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"21928hksjhjkhjkfasdf"}} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('544869fa43687598150d0000'), "dev_id"=>"21928hksjhjkhjkfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('544869fa43687598150d0000'), "dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('544869fa43687598150e0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"21928hksjhjkhjkfasdf", "user_id"=>BSON::ObjectId('544869fa43687598150d0000'), "updated_at"=>2014-10-23 02:37:46 UTC, "created_at"=>2014-10-23 02:37:46 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('544869fa43687598150d0000')} update={"$set"=>{"last_sign_in_at"=>2014-10-23 02:37:46 UTC, "current_sign_in_at"=>2014-10-23 02:37:46 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-23 02:37:46 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4970ms
  Rendered user_mailer/welcome.html.haml (1.5ms)

UserMailer#welcome: processed outbound mail in 14.8ms

Sent mail to test6@email.com (18.7ms)
Date: Thu, 23 Oct 2014 04:37:46 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <544869fa5f052_98153fd3ed02dbf85744d@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test6!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/544869fa43687598150d0000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 145ms (Views: 3.3ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('544869fa43687598150d0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('544869fa43687598150d0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4180ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('544869fa43687598150e0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('544869fa43687598150d0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7230ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"user_id"=>BSON::ObjectId('544869fa43687598150d0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2920ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('544869fa43687598150d0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8810ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.55 at 2014-10-23 04:41:00 +0200
Overwriting existing field avatar in class User.
Processing by HomeController#sign_up as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "username"=>"test6", "dev_id"=>"21928hksjhjkhjkfasdf", "social_type"=>"email", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.7090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test6@email.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5040ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest6$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"9vLyLc_eWzN4vjXDmzyF"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4260ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('54486abd43687598150f0000'), "email"=>"test6@email.com", "name"=>"test6", "encrypted_password"=>"$2a$10$BYMyW2xrfHsLgWmhkitjLOq9RDODyqmvh4eGmmbcklJHyV12/nLWW", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"email", "social_id"=>"", "time_zone"=>"8", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"9vLyLc_eWzN4vjXDmzyF", "updated_at"=>2014-10-23 02:41:01 UTC, "created_at"=>2014-10-23 02:41:01 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"21928hksjhjkhjkfasdf"}} runtime: 0.5320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "dev_id"=>"21928hksjhjkhjkfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "dev_id"=>"21928hksjhjkhjkfasdf"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3820ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54486abd4368759815100000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"21928hksjhjkhjkfasdf", "user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "updated_at"=>2014-10-23 02:41:01 UTC, "created_at"=>2014-10-23 02:41:01 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"last_sign_in_at"=>2014-10-23 02:41:01 UTC, "current_sign_in_at"=>2014-10-23 02:41:01 UTC, "last_sign_in_ip"=>"192.168.0.55", "current_sign_in_ip"=>"192.168.0.55", "sign_in_count"=>1, "updated_at"=>2014-10-23 02:41:01 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test6@email.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5441d89d4368754f37000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4930ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54486abd4368759815110000'), "status"=>402, "message"=>"test9 wants to add you in his friends", "data"=>"5441d89d4368754f37000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "updated_at"=>2014-10-23 02:41:01 UTC, "created_at"=>2014-10-23 02:41:01 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5070ms
  Rendered user_mailer/invite_friend.html.haml (1.1ms)

UserMailer#invite_friend: processed outbound mail in 12.7ms

Sent mail to test6@email.com (18.3ms)
Date: Thu, 23 Oct 2014 04:41:01 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <54486abd76e08_98153fd3ed02dbf85754@Chuis-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test6
      </h3>
      <p>
        You are invited to join Test9.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "is_read"=>false}} runtime: 1.2200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54486abd43687598150f0000')}} runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54486abd43687598150f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5441d89d4368754f37000000')} update={"$set"=>{"friend_ids"=>"54486abd43687598150f0000", "invited_friend_ids"=>"54486abd43687598150f0000", "updated_at"=>2014-10-23 02:41:01 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8120ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=user_temp_notifications selector={"_id"=>BSON::ObjectId('5448682a4368759815060000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.1500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"auto_notify_friend"=>true} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6770ms
  Rendered user_mailer/welcome.html.haml (2.3ms)

UserMailer#welcome: processed outbound mail in 21.8ms

Sent mail to test6@email.com (24.9ms)
Date: Thu, 23 Oct 2014 04:41:01 +0200
From: support@timechat.com.au
To: test6@email.com
Message-ID: <54486abd88335_98153fd3ed02dbf85764f@Chuis-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test6!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/54486abd43687598150f0000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 271ms (Views: 6.1ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7230ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"user_id"=>BSON::ObjectId('54486abd43687598150f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5480ms
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.1600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 40.5470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.3370ms
Overwriting existing field avatar in class User.


Started POST "/api/v1/accounts/sign_in" for 192.168.0.55 at 2014-11-24 11:04:00 +0100
Processing by HomeController#create_session as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "dev_id"=>"test654321", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.9420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^test6@email.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 44.7720ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"test654321"}} runtime: 26.1980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"test654321"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "dev_id"=>"test654321"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "dev_id"=>"test654321"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('547302914368758a69000000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"test654321", "user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "updated_at"=>2014-11-24 10:04:01 UTC, "created_at"=>2014-11-24 10:04:01 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6470ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"current_sign_in_at"=>2014-11-24 10:04:01 UTC, "sign_in_count"=>2, "updated_at"=>2014-11-24 10:04:01 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6310ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field audio_comment in class Comment.
Completed 200 OK in 424ms (Views: 0.4ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.1040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4860ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.55 at 2014-11-24 11:05:19 +0100
Processing by HomeController#delete_session as */*
  Parameters: {"token"=>"9vLyLc_eWzN4vjXDmzyF", "password"=>"[FILTERED]", "dev_id"=>"test654321", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"9vLyLc_eWzN4vjXDmzyF"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8230ms
Completed 200 OK in 2ms (Views: 0.2ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1530ms


Started POST "/api/v1/accounts/sign_in" for 192.168.0.55 at 2014-11-24 11:06:50 +0100
Overwriting existing field avatar in class User.
Processing by HomeController#create_session as */*
  Parameters: {"email"=>"test6@email.com", "password"=>"[FILTERED]", "dev_id"=>"test654321", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^test6@email.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9790ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"test654321"}} runtime: 0.6650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"test654321"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7110ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('547302914368758a69000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "dev_id"=>"test654321"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "dev_id"=>"test654321"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3680ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('5473033b4368758a69010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"test654321", "user_id"=>BSON::ObjectId('54486abd43687598150f0000'), "updated_at"=>2014-11-24 10:06:51 UTC, "created_at"=>2014-11-24 10:06:51 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5220ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"last_sign_in_at"=>2014-11-24 10:04:01 UTC, "current_sign_in_at"=>2014-11-24 10:06:51 UTC, "sign_in_count"=>3, "updated_at"=>2014-11-24 10:06:51 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5460ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"last_sign_in_at"=>2014-11-24 10:06:51 UTC, "updated_at"=>2014-11-24 10:06:51 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9660ms
Completed 200 OK in 126ms (Views: 0.4ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0020ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.55 at 2014-11-24 11:07:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"9vLyLc_eWzN4vjXDmzyF"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7310ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"last_sign_in_at"=>2014-11-24 10:07:38 UTC, "updated_at"=>2014-11-24 10:07:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8040ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.3200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6040ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.55 at 2014-11-24 11:27:14 +0100
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"9vLyLc_eWzN4vjXDmzyF"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7870ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"last_sign_in_at"=>2014-11-24 10:27:15 UTC, "updated_at"=>2014-11-24 10:27:15 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54486abd43687598150f0000')} update={"$set"=>{"last_sign_in_at"=>2014-11-24 10:27:15 UTC, "updated_at"=>2014-11-24 10:27:15 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5990ms
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.


Started POST "/api/v1/friends/ping" for 192.168.0.55 at 2014-11-26 16:44:29 +0100


Started POST "/api/v1/friends/ping" for 192.168.0.55 at 2014-11-26 16:44:56 +0100
Overwriting existing field avatar in class User.


Started POST "/api/v1/friends/ping" for 192.168.0.55 at 2014-11-26 16:45:40 +0100
Overwriting existing field avatar in class User.


Started POST "/api/v1/friends/ping" for 192.168.0.55 at 2014-11-26 16:45:50 +0100
Overwriting existing field avatar in class User.


Started POST "/api/v1/friends/ping" for 192.168.0.55 at 2014-11-26 16:45:57 +0100
Overwriting existing field avatar in class User.


Started POST "/api/v1/friends/signup" for 192.168.0.55 at 2014-11-26 16:59:40 +0100
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 30.4510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"_id"=>{"$in"=>[]}}} runtime: 0.9680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"_id"=>{"$in"=>[]}}} runtime: 0.5960ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.9390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>-1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "friend_id"=>BSON::ObjectId('54486abd43687598150f0000'), "status"=>1} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6400ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=favorites documents=[{"_id"=>BSON::ObjectId('547b0c744368750209000000'), "status"=>1, "friend_id"=>BSON::ObjectId('54486abd43687598150f0000'), "user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "updated_at"=>2014-11-30 12:24:29 UTC, "created_at"=>2014-11-30 12:24:29 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 28.5360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "freiend_id"=>BSON::ObjectId('54486abd43687598150f0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000'), "freiend_id"=>BSON::ObjectId('54486abd43687598150f0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"favorites", :query=>{"user_id"=>BSON::ObjectId('543e8b544368753bb1150000')}} runtime: 0.6190ms
Overwriting existing field avatar in class User.


Started GET "/rails/info/routes" for 127.0.0.1 at 2014-12-02 16:26:08 +0800
Processing by Rails::InfoController#routes as HTML
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (5.9ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.1ms)
  Rendered vendor/bundle/gems/railties-4.1.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (38.4ms)
Completed 200 OK in 102ms (Views: 91.5ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2014-12-02 16:28:25 +0800
Overwriting existing field avatar in class User.
Processing by Rails::InfoController#routes as HTML
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.5ms)
  Rendered vendor/bundle/gems/railties-4.1.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (9.9ms)
Completed 200 OK in 13ms (Views: 12.1ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2014-12-02 16:28:38 +0800
Overwriting existing field avatar in class User.
Processing by Rails::InfoController#routes as HTML
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered vendor/bundle/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.5ms)
  Rendered vendor/bundle/gems/railties-4.1.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (10.8ms)
Completed 200 OK in 14ms (Views: 13.1ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-09 09:50:55 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (4.2ms)
  Rendered layouts/_footer.html.haml (2.0ms)
Completed 200 OK in 1706ms (Views: 1675.0ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 09:51:03 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.8ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (2.4ms)
  Rendered layouts/_footer.html.haml (1.6ms)
Completed 200 OK in 19ms (Views: 17.8ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 09:51:05 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:51:07 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (270.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 309ms (Views: 306.2ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 09:51:10 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 15ms (Views: 13.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:51:12 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 19ms (Views: 17.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:52:19 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (11.7ms)
  Rendered layouts/_navigation.html.haml (1.0ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 27ms (Views: 24.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:58:50 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"pp28472106@heroku.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.4200ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.5400ms
Completed 500 Internal Server Error in 317ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70127920471300 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70127919863580/variables" for 127.0.0.1 at 2014-12-09 09:58:51 +0100


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:59:39 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.0980ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.2880ms
Completed 500 Internal Server Error in 269ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70127920471300 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70127909651020/variables" for 127.0.0.1 at 2014-12-09 09:59:39 +0100


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:59:53 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (11.9ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 63ms (Views: 61.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 09:59:57 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (11.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 10:00:00 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.7460ms
Completed 500 Internal Server Error in 264ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70127920471300 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:00 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:11 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:12 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:13 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:14 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:15 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:15 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:21 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:21 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:22 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:22 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:23 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:24 +0100


Started POST "/__better_errors/70127838717920/variables" for 127.0.0.1 at 2014-12-09 10:00:25 +0100


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 10:01:24 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (8.6ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 18.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 10:01:44 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"SAFAS", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.4190ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.5990ms
Completed 500 Internal Server Error in 271ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70127920471300 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70127893538680/variables" for 127.0.0.1 at 2014-12-09 10:01:44 +0100
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-09 10:19:18 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (3.0ms)
  Rendered layouts/_footer.html.haml (1.6ms)
Completed 200 OK in 882ms (Views: 829.8ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:21:18 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"sdfaf", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.8910ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.3170ms
Completed 500 Internal Server Error in 320ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.4ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:21:22 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"sdfaf", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.6900ms
Completed 500 Internal Server Error in 263ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.6ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:21:24 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"sdfaf", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.0940ms
Completed 500 Internal Server Error in 260ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.7ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:21:26 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"sdfaf", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.4130ms
Completed 500 Internal Server Error in 260ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.6ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:21:50 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.4880ms
Completed 500 Internal Server Error in 261ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.8ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:22:00 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.5600ms
Completed 500 Internal Server Error in 260ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:22:04 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.2430ms
Completed 500 Internal Server Error in 262ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.0ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:23:55 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.7910ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.7640ms
Completed 500 Internal Server Error in 265ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.9ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:24:04 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.7260ms
Completed 500 Internal Server Error in 259ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.5ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:24:55 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.2240ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.2770ms
Completed 500 Internal Server Error in 271ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.6ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:29:00 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.3360ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.0180ms
Completed 500 Internal Server Error in 264ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (58.6ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:30:00 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.1770ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.8670ms
Completed 500 Internal Server Error in 271ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.6ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:30:27 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 9.4230ms
Completed 500 Internal Server Error in 262ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.7ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:30:46 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.9430ms
Completed 500 Internal Server Error in 261ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.4ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:30:56 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.8310ms
Completed 500 Internal Server Error in 261ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.1ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.207 at 2014-12-09 10:31:29 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test5", "password"=>"[FILTERED]", "timezone"=>"1", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 4.5540ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.8180ms
Completed 500 Internal Server Error in 265ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:104:in `create_session'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.3ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:39:36 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 20.4190ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 9.3930ms
Completed 500 Internal Server Error in 782ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.9ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:39:40 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 9.0930ms
Completed 500 Internal Server Error in 339ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:40:20 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.8050ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.0740ms
Completed 500 Internal Server Error in 347ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.3ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:42:34 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 21.7800ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.8440ms
Completed 500 Internal Server Error in 360ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (38.0ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:43:03 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.9720ms
Completed 500 Internal Server Error in 337ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.7ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:47:40 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 11.5470ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.7770ms
Completed 500 Internal Server Error in 353ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.7ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 10:59:32 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.7120ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.9650ms
Completed 500 Internal Server Error in 348ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.8ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 11:00:22 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 9.4230ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 10.5300ms
Completed 500 Internal Server Error in 352ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.5ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.207 at 2014-12-09 11:01:12 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"341E2BBE-CBDB-47A1-B597-BE0E23DDD16B", "time_zone"=>"1", "token"=>""}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.7570ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 10.6780ms
Completed 500 Internal Server Error in 351ms

Moped::Errors::ConnectionFailure (Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>):
  app/controllers/home_controller.rb:30:in `sign_up'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.8ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 11:39:08 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 111ms (Views: 109.7ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 11:39:10 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (242.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 301ms (Views: 281.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 11:39:14 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.3100ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 9.0660ms
Completed 500 Internal Server Error in 285ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70199243502700 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70199243251820/variables" for 127.0.0.1 at 2014-12-09 11:39:15 +0100
Overwriting existing field avatar in class User.


Started GET "/" for 192.168.0.208 at 2014-12-09 12:33:32 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.4ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (3.4ms)
  Rendered layouts/_footer.html.haml (1.7ms)
Completed 200 OK in 1127ms (Views: 1084.8ms)


Started GET "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:33:38 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (291.9ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 335ms (Views: 331.4ms)


Started GET "/" for 192.168.0.208 at 2014-12-09 12:33:43 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.haml (2.7ms)
  Rendered layouts/_messages.html.haml (1.9ms)
  Rendered layouts/_footer.html.haml (1.3ms)
Completed 200 OK in 15ms (Views: 14.4ms)


Started GET "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:33:47 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (8.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 17ms (Views: 15.9ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:33:52 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5670ms
Completed 401 Unauthorized in 29ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.9ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 91ms (Views: 16.4ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:34:07 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdfsaf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4810ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (13.5ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 102ms (Views: 26.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 12:34:19 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 89ms (Views: 17.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 12:34:24 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4550ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 97ms (Views: 21.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 12:34:27 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.2ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.6ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:56:28 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdfsaf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3870ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 198ms (Views: 125.3ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:57:53 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 55ms (Views: 53.7ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 12:58:42 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"asdfasdfsaf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 18ms (Views: 16.3ms)


Started GET "/" for 192.168.0.207 at 2014-12-09 13:03:17 +0100
Overwriting existing field avatar in class User.
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 22.5ms)


Started GET "/users/sign_in" for 50.7.239.12 at 2014-12-09 13:09:01 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.5ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 182ms (Views: 181.0ms)


Started GET "/" for 50.7.239.12 at 2014-12-09 13:09:32 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 100ms (Views: 98.8ms)


Started GET "/" for 192.168.0.207 at 2014-12-09 13:09:45 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.5ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 13:10:43 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 55ms (Views: 54.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:10:48 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 48ms (Views: 46.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:10:50 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 19.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:10:53 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 5.4350ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.7450ms
Completed 500 Internal Server Error in 268ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293605088560/variables" for 127.0.0.1 at 2014-12-09 13:10:53 +0100


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:01 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.7390ms
Completed 500 Internal Server Error in 264ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293564749840/variables" for 127.0.0.1 at 2014-12-09 13:11:01 +0100


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:03 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 19ms (Views: 17.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:15 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:17 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 26.8530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6410ms
Completed 401 Unauthorized in 282ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 91ms (Views: 17.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:24 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.8ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 22.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:25 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 19.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:26 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (13.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 26ms (Views: 24.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:29 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 8.9020ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 8.0830ms
Completed 500 Internal Server Error in 273ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293604440820/variables" for 127.0.0.1 at 2014-12-09 13:11:30 +0100


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:41 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.9080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5470ms
Completed 401 Unauthorized in 256ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 162ms (Views: 83.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:44 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7010ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.3ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 91ms (Views: 18.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:45 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 27ms (Views: 25.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:46 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 23.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:46 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 23.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:46 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (13.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 22.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:47 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (16.9ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 32.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:47 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (15.5ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 33ms (Views: 31.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:49 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.5ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:11:57 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 18.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:12:00 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 8.1580ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.4120ms
Completed 500 Internal Server Error in 270ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293577853980/variables" for 127.0.0.1 at 2014-12-09 13:12:00 +0100


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:27 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (21.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 31ms (Views: 29.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:28 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:29 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (14.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 23.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:31 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 18.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:33 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.8ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 22.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:34 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.3ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 27ms (Views: 26.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:35 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 22.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:54 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.haml (1.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 18.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:56 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 19ms (Views: 17.3ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 13:14:58 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 120ms (Views: 119.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:14:59 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.3ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 21.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:01 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (13.8ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 28ms (Views: 25.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:03 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.4610ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.2260ms
Completed 500 Internal Server Error in 269ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293587509660/variables" for 127.0.0.1 at 2014-12-09 13:15:03 +0100


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:16 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.9ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 23.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:17 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 23.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:18 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (13.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 27ms (Views: 24.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:19 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.2740ms
Completed 500 Internal Server Error in 263ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293624481140/variables" for 127.0.0.1 at 2014-12-09 13:15:19 +0100


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:30 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.0840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"dsg"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5710ms
Completed 401 Unauthorized in 257ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 96ms (Views: 20.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:33 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"dsg"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6580ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.5ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 101ms (Views: 24.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:15:38 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"dsg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"dsg"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 8.7940ms
  MOPED: Retrying connection attempt 1 more time(s). runtime: n/a
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.8670ms
Completed 500 Internal Server Error in 273ms

Moped::Errors::ConnectionFailure - Could not connect to a primary node for replica set #<Moped::Cluster:70293612153140 @seeds=[<Moped::Node resolved_address="127.0.0.1:27017">]>:
  moped (2.0.0) lib/moped/cluster.rb:248:in `with_primary'
  moped (2.0.0) lib/moped/read_preference/primary.rb:55:in `block in with_node'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:65:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:71:in `rescue in with_retry'
  moped (2.0.0) lib/moped/read_preference/selectable.rb:64:in `with_retry'
  moped (2.0.0) lib/moped/read_preference/primary.rb:54:in `with_node'
  moped (2.0.0) lib/moped/query.rb:127:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:187:in `block in first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:135:in `with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/query_cache.rb:186:in `first_with_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:199:in `block (2 levels) in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:535:in `with_sorting'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:198:in `block in first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:447:in `try_cache'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual/mongo.rb:197:in `first'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/mongoid-8cb17e983997/lib/mongoid/contextual.rb:20:in `first'
  orm_adapter (0.5.0) lib/orm_adapter/adapters/mongoid.rb:28:in `find_first'
  devise (3.1.1) lib/devise/models/authenticatable.rb:247:in `find_first_by_auth_conditions'
  devise (3.1.1) lib/devise/models/authenticatable.rb:243:in `find_for_authentication'
  devise (3.1.1) lib/devise/models/database_authenticatable.rb:136:in `find_for_database_authentication'
  devise (3.1.1) lib/devise/strategies/database_authenticatable.rb:8:in `authenticate!'
  warden (1.2.3) lib/warden/strategies/base.rb:53:in `_run!'
  warden (1.2.3) lib/warden/proxy.rb:354:in `block in _run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:349:in `_run_strategies_for'
  warden (1.2.3) lib/warden/proxy.rb:319:in `_perform_authentication'
  warden (1.2.3) lib/warden/proxy.rb:127:in `authenticate!'
  devise (3.1.1) app/controllers/devise/sessions_controller.rb:15:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70293604455620/variables" for 127.0.0.1 at 2014-12-09 13:15:39 +0100
Overwriting existing field avatar in class User.


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:33:22 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (479.9ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (3.5ms)
  Rendered layouts/_footer.html.haml (2.2ms)
Completed 200 OK in 2625ms (Views: 2582.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:33:32 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5510ms
Completed 401 Unauthorized in 30ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 98ms (Views: 20.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 13:33:36 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4370ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 92ms (Views: 16.5ms)


Started GET "/" for 192.168.0.208 at 2014-12-09 13:43:08 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 20.4ms)


Started GET "/users/sign_in" for 192.168.0.208 at 2014-12-09 13:43:12 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (8.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 17ms (Views: 15.9ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 13:43:16 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"safdasf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"safdasf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3770ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"safdasf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.3ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 88ms (Views: 15.2ms)


Started POST "/users/sign_in" for 192.168.0.208 at 2014-12-09 13:43:20 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"safdasf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"safdasf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4190ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"lmrgvsFCdgUzL15X0uFnF/ozyaGaVOyshNP/5TZFaT0=", "user"=>{"email"=>"safdasf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (6.9ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 14.1ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 41.1970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6000ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 44.8110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4670ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 57.7200ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.207 at 2014-12-09 14:11:21 +0100
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"gKHM2PG1jWcsN_cwnSxH"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3530ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.207 at 2014-12-09 14:12:08 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"gKHM2PG1jWcsN_cwnSxH"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4720ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.158 at 2014-12-09 14:18:35 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"Tiger", "email"=>"Tiger@hotmail.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638", "time_zone"=>"-8", "token"=>"logout"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"tiger@hotmail.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 18.3400ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\ATiger$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 31.7050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "email"=>"tiger@hotmail.com", "name"=>"Tiger", "encrypted_password"=>"$2a$10$RQY8Xfs1hMxFUjdS2DHjguqZstipbZrQ/rEBPHtSADDxa1UuC3ET.", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "gender"=>nil, "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "user_status"=>0, "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"BrGW_iihUGMTphW751GK", "updated_at"=>2014-12-09 13:18:35 UTC, "created_at"=>2014-12-09 13:18:35 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1058.7070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638"}} runtime: 0.5510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3180ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('5486f6ac546f6d0247010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638", "user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "updated_at"=>2014-12-09 13:18:36 UTC, "created_at"=>2014-12-09 13:18:36 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 20.0320ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-09 13:18:37 UTC, "current_sign_in_at"=>2014-12-09 13:18:37 UTC, "last_sign_in_ip"=>"192.168.0.158", "current_sign_in_ip"=>"192.168.0.158", "sign_in_count"=>1, "updated_at"=>2014-12-09 13:18:37 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 22.6510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4860ms
  Rendered user_mailer/welcome.html.haml (35.5ms)

UserMailer#welcome: processed outbound mail in 101.6ms

Sent mail to tiger@hotmail.com (80.5ms)
Date: Tue, 09 Dec 2014 14:18:37 +0100
From: support@timechat.com.au
To: tiger@hotmail.com
Message-ID: <5486f6ad3d548_2473fbff9865be8139c7@Tomass-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi Tiger!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/5486f6ab546f6d0247000000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 1653ms (Views: 1.7ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 349.8540ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:21:19 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"Tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7440ms
Completed 401 Unauthorized in 4ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"Tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.0ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 163ms (Views: 90.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:21:26 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"Tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7210ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"Tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.0ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 97ms (Views: 22.1ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 14:22:17 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 43ms (Views: 41.9ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 14:24:29 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 9.9ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 14:29:38 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 12ms (Views: 11.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:29:38 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.4ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 19.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:32:59 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7260ms
Completed 401 Unauthorized in 4ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 88ms (Views: 16.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:06 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6590ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.4ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 16.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:09 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 19.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:12 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4740ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 96ms (Views: 20.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:27 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfas"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4740ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfas", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.5ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 16.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:31 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 19.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:34 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8270ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 94ms (Views: 19.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:55 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4750ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 15.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:34:57 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6720ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 97ms (Views: 21.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:35:53 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4740ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 15.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:23 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4690ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 88ms (Views: 16.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:25 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5390ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 98ms (Views: 21.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:26 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:27 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 22.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:41 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:43 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5150ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (15.4ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 102ms (Views: 24.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:36:44 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 24ms (Views: 22.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:07 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:10 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6080ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 86ms (Views: 15.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:27 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5310ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 15.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:29 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5270ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 98ms (Views: 21.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:30 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (12.6ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 26ms (Views: 24.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:31 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:31 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.5ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:32 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (13.6ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:54 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 18ms (Views: 16.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:37:56 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6980ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 97ms (Views: 20.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:38:32 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4350ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 88ms (Views: 16.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:38:34 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6610ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 95ms (Views: 18.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:38:37 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7240ms
Completed 401 Unauthorized in 4ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (15.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 101ms (Views: 26.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:00 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7040ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.0ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 87ms (Views: 15.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:03 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6200ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 92ms (Views: 17.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:04 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:05 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 20.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:29 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 18ms (Views: 16.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:37 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.3ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 17ms (Views: 16.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:39:47 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 17ms (Views: 16.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:40:59 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 18.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:41:03 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"asdfasdf"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7430ms
Completed 401 Unauthorized in 4ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 96ms (Views: 20.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:41:04 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 20.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:41:38 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 19.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:41:45 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 19ms (Views: 17.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:41:51 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 19ms (Views: 17.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:41:56 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 1ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.5ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 17.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:42:01 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"aa"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6570ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 88ms (Views: 16.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:42:44 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"aa"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5420ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 88ms (Views: 16.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:44:47 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"aa"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5170ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (9.4ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 90ms (Views: 17.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:44:50 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"aa"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9960ms
Completed 401 Unauthorized in 4ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (10.7ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 95ms (Views: 20.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:44:53 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"aa"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6300ms
Completed 401 Unauthorized in 3ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 86ms (Views: 15.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:45:27 +0100
Overwriting existing field avatar in class User.
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"aa"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6790ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"aa", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (8.4ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 92ms (Views: 16.3ms)


Started POST "/api/v1/accounts/set_offline" for 192.168.0.158 at 2014-12-09 14:46:29 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"logout"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7410ms
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 50.2430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8780ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:48:45 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Dfo+Nv27P/Q7PIhic4eG4cujYmxfuvUOEFWtaX1lEnw=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8860ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"current_sign_in_at"=>2014-12-09 13:48:45 UTC, "current_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>2, "updated_at"=>2014-12-09 13:48:45 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6870ms
Redirected to http://localhost:3000/
Completed 302 Found in 135ms


Started GET "/" for 127.0.0.1 at 2014-12-09 14:48:45 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 3.9880ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 15ms (Views: 8.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-09 14:48:52 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cYIo47hfFoWxmqeuP4c+MK7r4RglDkmwCKyyHOdm3lc="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7650ms
Redirected to http://localhost:3000/
Completed 302 Found in 21ms


Started GET "/" for 127.0.0.1 at 2014-12-09 14:48:52 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 6.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 14:48:56 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.4ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.7670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5210ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"role"=>"admin)\nUser.all.first()\n", "updated_at"=>2014-12-09 14:02:34 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9070ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"role"=>"admin", "updated_at"=>2014-12-09 14:02:41 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6930ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:02:58 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"SsXk5B8uDOVP8fFuXi2dxA/hjrg46B/PNFr74DMqxjk=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5920ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-09 13:48:45 UTC, "current_sign_in_at"=>2014-12-09 14:02:58 UTC, "last_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>3, "updated_at"=>2014-12-09 14:02:58 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7710ms
Redirected to http://localhost:3000/
Completed 302 Found in 84ms


Started GET "/" for 127.0.0.1 at 2014-12-09 15:02:58 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 8.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:03:05 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5000ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6940ms
  Rendered admin/users/index.html.haml within layouts/admin (21.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 34ms (Views: 28.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-09 15:03:11 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"++uGs/i60jTt4PHIiyUjsxJ9L4DzvdATxwaDoMAs0IE="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5990ms
Redirected to http://localhost:3000/
Completed 302 Found in 6ms


Started GET "/" for 127.0.0.1 at 2014-12-09 15:03:11 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 6.8ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 15:03:13 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.8ms)
  Rendered layouts/_navigation.html.haml (2.8ms)
  Rendered layouts/_messages.html.haml (2.0ms)
  Rendered layouts/_footer.html.haml (1.5ms)
Completed 200 OK in 15ms (Views: 14.4ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6760ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"role"=>"user", "updated_at"=>2014-12-09 14:03:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6700ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:03:33 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (9.6ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 20.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:03:37 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"4zq0wFQMnD5XyYOFZBMNMp8/1Zr+1avyyHf8i1qbf3I=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7940ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-09 14:02:58 UTC, "current_sign_in_at"=>2014-12-09 14:03:37 UTC, "sign_in_count"=>4, "updated_at"=>2014-12-09 14:03:37 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 7.2630ms
Redirected to http://localhost:3000/
Completed 302 Found in 92ms


Started GET "/" for 127.0.0.1 at 2014-12-09 15:03:37 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7470ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 8.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-09 15:03:39 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"KEXuRAVpFQkfDbISvBXF4oyan1uJgVhhkZbTyY28G6I="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6320ms
Redirected to http://localhost:3000/
Completed 302 Found in 6ms


Started GET "/" for 127.0.0.1 at 2014-12-09 15:03:39 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 7ms (Views: 6.3ms)
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"role"=>"admin", "updated_at"=>2014-12-09 14:03:49 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7550ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:03:51 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (12.7ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:03:57 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"fPu8qccyRxcryKRxgCtTgn6M8z7qeV9mC5Ksu+rLhKQ=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9760ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-09 14:03:37 UTC, "current_sign_in_at"=>2014-12-09 14:03:57 UTC, "sign_in_count"=>5, "updated_at"=>2014-12-09 14:03:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5830ms
Redirected to http://localhost:3000/
Completed 302 Found in 85ms


Started GET "/" for 127.0.0.1 at 2014-12-09 15:03:57 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6130ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 8.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:03:58 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4270ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5590ms
  Rendered admin/users/index.html.haml within layouts/admin (4.3ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 17ms (Views: 13.3ms)


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 127.0.0.1 at 2014-12-09 15:04:09 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5290ms
  Rendered admin/users/_form.html.haml (78.0ms)
  Rendered admin/users/edit.html.haml within layouts/admin (82.4ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 93ms (Views: 88.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:15 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7990ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5250ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.5120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4370ms
  Rendered admin/users/index.html.haml within layouts/admin (4.2ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 15.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:26 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4370ms
  Rendered admin/users/index.html.haml within layouts/admin (3.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 13ms (Views: 8.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:26 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4870ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.3980ms
  Rendered admin/users/index.html.haml within layouts/admin (3.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 13ms (Views: 9.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:27 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4140ms
  Rendered admin/users/index.html.haml within layouts/admin (3.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 13ms (Views: 9.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:27 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5020ms
  Rendered admin/users/index.html.haml within layouts/admin (3.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 14ms (Views: 9.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:27 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4160ms
  Rendered admin/users/index.html.haml within layouts/admin (3.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 12ms (Views: 8.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:27 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4950ms
  Rendered admin/users/index.html.haml within layouts/admin (3.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 14ms (Views: 9.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:28 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6000ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4050ms
  Rendered admin/users/index.html.haml within layouts/admin (3.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 13ms (Views: 9.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:28 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6350ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4250ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4480ms
  Rendered admin/users/index.html.haml within layouts/admin (3.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 13ms (Views: 9.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:04:28 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4350ms
  Rendered admin/users/index.html.haml within layouts/admin (3.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 13ms (Views: 9.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:06:23 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4900ms
  Rendered admin/users/index.html.haml within layouts/admin (9.7ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 35ms (Views: 31.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:07:04 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4260ms
  Rendered admin/users/index.html.haml within layouts/admin (10.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 20ms (Views: 16.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:07:10 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4770ms
  Rendered admin/users/index.html.haml within layouts/admin (10.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 17.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:07:51 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5710ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3330ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5280ms
  Rendered admin/users/index.html.haml within layouts/admin (11.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 17.9ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:07:56 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4540ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4890ms
  Rendered admin/users/index.html.haml within layouts/admin (12.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 18.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:20:06 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4890ms
  Rendered admin/users/index.html.haml within layouts/admin (14.1ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (24.7ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 188ms (Views: 182.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:22:17 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4770ms
  Rendered admin/users/index.html.haml within layouts/admin (11.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 21ms (Views: 17.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:24:42 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4770ms
  Rendered admin/users/index.html.haml within layouts/admin (104.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 115ms (Views: 110.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:25:17 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5580ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4930ms
  Rendered admin/users/index.html.haml within layouts/admin (23.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 36ms (Views: 30.9ms)


Started GET "/admin/users/new" for 127.0.0.1 at 2014-12-09 15:25:33 +0100
Processing by Admin::UsersController#new as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7840ms
  Rendered admin/users/_form.html.haml (15.0ms)
  Rendered admin/users/new.html.haml within layouts/admin (68.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 125ms (Views: 122.0ms)


Started POST "/admin/users" for 127.0.0.1 at 2014-12-09 15:26:08 +0100
Processing by Admin::UsersController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"AR4jfNQ0UIwe/OKW8xa6CTW5SHabzhCQBv03M6yEp14=", "user"=>{"name"=>"Tiger1", "email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
Completed 500 Internal Server Error in 4ms

ArgumentError - too few arguments:
  app/controllers/admin/users_controller.rb:26:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70093761017040/variables" for 127.0.0.1 at 2014-12-09 15:26:08 +0100


Started POST "/admin/users" for 127.0.0.1 at 2014-12-09 15:26:36 +0100
Processing by Admin::UsersController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"AR4jfNQ0UIwe/OKW8xa6CTW5SHabzhCQBv03M6yEp14=", "user"=>{"name"=>"Tiger1", "email"=>"tiger1@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7890ms
Completed 500 Internal Server Error in 3ms

ArgumentError - too few arguments:
  app/controllers/admin/users_controller.rb:26:in `create'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/70093865950520/variables" for 127.0.0.1 at 2014-12-09 15:26:36 +0100


Started POST "/__better_errors/70093865950520/variables" for 127.0.0.1 at 2014-12-09 15:26:55 +0100


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:27:04 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5850ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5130ms
  Rendered admin/users/index.html.haml within layouts/admin (17.5ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 30ms (Views: 24.4ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=" for 127.0.0.1 at 2014-12-09 15:27:07 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>""}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4480ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4740ms
  Rendered admin/users/index.html.haml within layouts/admin (14.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 26ms (Views: 22.1ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger" for 127.0.0.1 at 2014-12-09 15:27:11 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger*./}, {"name"=>/.*tiger*./}]}} runtime: 119.0580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger*./}, {"name"=>/.*tiger*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5410ms
  Rendered admin/users/index.html.haml within layouts/admin (14.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 143ms (Views: 19.9ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:13 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.5960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4490ms
  Rendered admin/users/index.html.haml within layouts/admin (16.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 32ms (Views: 24.0ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1asdfsf" for 127.0.0.1 at 2014-12-09 15:27:16 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1asdfsf"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.2420ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1asdfsf*./}, {"name"=>/.*tiger1asdfsf*./}]}} runtime: 0.7100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1asdfsf*./}, {"name"=>/.*tiger1asdfsf*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4890ms
  Rendered admin/users/index.html.haml within layouts/admin (1.4ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 17ms (Views: 10.3ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:22 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6730ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.6930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4740ms
  Rendered admin/users/index.html.haml within layouts/admin (16.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 30ms (Views: 24.0ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:23 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4960ms
  Rendered admin/users/index.html.haml within layouts/admin (20.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 56ms (Views: 50.8ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:24 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.7780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4500ms
  Rendered admin/users/index.html.haml within layouts/admin (14.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 23.0ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:24 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.8170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.5800ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5670ms
  Rendered admin/users/index.html.haml within layouts/admin (15.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 21.5ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:24 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6990ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6540ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6110ms
  Rendered admin/users/index.html.haml within layouts/admin (19.4ms)
  Rendered layouts/_navigation.html.haml (0.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 34ms (Views: 28.6ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger13" for 127.0.0.1 at 2014-12-09 15:27:27 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger13"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger13*./}, {"name"=>/.*tiger13*./}]}} runtime: 0.6190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger13*./}, {"name"=>/.*tiger13*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6090ms
  Rendered admin/users/index.html.haml within layouts/admin (1.6ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 18ms (Views: 11.0ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=tiger1" for 127.0.0.1 at 2014-12-09 15:27:30 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>"tiger1"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]}} runtime: 0.6930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$or"=>[{"email"=>/.*tiger1*./}, {"name"=>/.*tiger1*./}]} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6120ms
  Rendered admin/users/index.html.haml within layouts/admin (18.7ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 35ms (Views: 28.0ms)


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 127.0.0.1 at 2014-12-09 15:27:38 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8740ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5190ms
  Rendered admin/users/_form.html.haml (13.9ms)
  Rendered admin/users/edit.html.haml within layouts/admin (15.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 56ms (Views: 51.8ms)


Started PATCH "/admin/users/5486f6ab546f6d0247000000" for 127.0.0.1 at 2014-12-09 15:27:40 +0100
Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"AR4jfNQ0UIwe/OKW8xa6CTW5SHabzhCQBv03M6yEp14=", "user"=>{"name"=>"Tiger", "email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit", "id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
Overwriting existing field audio_comment in class Comment.
  Rendered admin/users/_form.html.haml (12.8ms)
  Rendered admin/users/edit.html.haml within layouts/admin (14.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 246ms (Views: 20.0ms)


Started PATCH "/admin/users/5486f6ab546f6d0247000000" for 127.0.0.1 at 2014-12-09 15:27:47 +0100
Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"AR4jfNQ0UIwe/OKW8xa6CTW5SHabzhCQBv03M6yEp14=", "user"=>{"name"=>"Tiger", "email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit", "id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5280ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"encrypted_password"=>"$2a$10$nJ1AgrFZFZWga5FRxUEjJ.VkH5j1XqxA2n9F/uODmJyigpKxnw0dW", "updated_at"=>2014-12-09 14:27:47 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7410ms
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 84ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:27:47 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7360ms
Redirected to http://localhost:3000/users/sign_in
Filter chain halted as :authenticate_admin rendered or redirected
Completed 302 Found in 3ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:27:47 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 103ms (Views: 101.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-09 15:27:54 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"AR4jfNQ0UIwe/OKW8xa6CTW5SHabzhCQBv03M6yEp14=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8120ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-09 14:03:57 UTC, "current_sign_in_at"=>2014-12-09 14:27:54 UTC, "sign_in_count"=>6, "updated_at"=>2014-12-09 14:27:54 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9020ms
Redirected to http://localhost:3000/
Completed 302 Found in 85ms


Started GET "/" for 127.0.0.1 at 2014-12-09 15:27:54 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7440ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 35ms (Views: 33.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:27:56 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5150ms
  Rendered admin/users/index.html.haml within layouts/admin (15.3ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 28ms (Views: 21.9ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 15:28:02 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 12ms (Views: 9.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-09 15:28:05 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4520ms
  Rendered admin/users/index.html.haml within layouts/admin (14.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 28ms (Views: 22.8ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 15:58:23 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6430ms
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.4ms)
Completed 200 OK in 361ms (Views: 357.7ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-11 04:51:06 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.6ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (3.2ms)
  Rendered layouts/_footer.html.haml (2.4ms)
Completed 200 OK in 783ms (Views: 736.3ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2014-12-11 04:51:18 +0100
Processing by Rails::InfoController#routes as HTML
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (18.5ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/railties-4.1.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (57.4ms)
Completed 200 OK in 62ms (Views: 61.6ms)
Overwriting existing field avatar in class User.


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-11 16:48:25 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 204.7570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Mr8u8kmcy9QzfqfVrZeu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 62.9150ms


Started GET "/signup" for 127.0.0.1 at 2014-12-11 16:49:07 +0100

ActionController::RoutingError (No route matches [GET] "/signup"):
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `catch'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run_machine'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `tap'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.2ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.7ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (59.4ms)


Started GET "/" for 127.0.0.1 at 2014-12-11 16:49:11 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (3.3ms)
  Rendered layouts/_footer.html.haml (1.7ms)
Completed 200 OK in 484ms (Views: 448.3ms)


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-11 16:49:25 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Mr8u8kmcy9QzfqfVrZeu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5790ms


Started GET "/" for 127.0.0.1 at 2014-12-11 16:50:15 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.6ms)


Started GET "/" for 127.0.0.1 at 2014-12-11 16:50:18 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms)


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-11 16:50:44 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Mr8u8kmcy9QzfqfVrZeu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5300ms


Started GET "/" for 192.168.0.158 at 2014-12-11 16:51:50 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 7ms (Views: 6.6ms)


Started GET "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:52:04 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (317.4ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 359ms (Views: 356.1ms)


Started POST "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:52:14 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6620ms
Completed 401 Unauthorized in 547ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.1ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 90ms (Views: 14.3ms)


Started POST "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:52:31 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5320ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.3ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 86ms (Views: 14.7ms)


Started POST "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:52:45 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5450ms
Completed 401 Unauthorized in 2ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (7.1ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 86ms (Views: 14.5ms)


Started POST "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:52:57 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5eRBX+GWG19raSUKgOHcouEIYmx97yrd+3r0p2eN9dI=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7110ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-09 14:27:54 UTC, "current_sign_in_at"=>2014-12-11 15:52:57 UTC, "current_sign_in_ip"=>"192.168.0.158", "sign_in_count"=>7, "updated_at"=>2014-12-11 15:52:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 176.0450ms
Redirected to http://192.168.0.207:3000/
Completed 302 Found in 280ms


Started GET "/" for 192.168.0.158 at 2014-12-11 16:52:57 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5670ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 6.5ms)


Started GET "/admin/users" for 192.168.0.158 at 2014-12-11 16:53:03 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 36.7650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 24.7370ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5180ms
  Rendered admin/users/index.html.haml within layouts/admin (138.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 249ms (Views: 183.8ms)


Started DELETE "/users/sign_out" for 192.168.0.158 at 2014-12-11 16:53:10 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"5C8CPkEf46E98/hpjOya6ZHT/NCP3H6nd5xtMzcJLvU="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6570ms
Redirected to http://192.168.0.207:3000/
Completed 302 Found in 52ms


Started GET "/" for 192.168.0.158 at 2014-12-11 16:53:10 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 7ms (Views: 6.5ms)


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-11 16:53:58 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Mr8u8kmcy9QzfqfVrZeu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4740ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.158 at 2014-12-11 16:57:45 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"tiger1", "email"=>"tiger1@hotmail", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638", "time_zone"=>"-8", "token"=>"logout"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"tiger1@hotmail"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 353.1150ms
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atiger1$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 33.6690ms
Completed 200 OK in 579ms (Views: 0.4ms)


Started GET "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:57:59 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (7.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 17ms (Views: 15.8ms)


Started POST "/users/sign_in" for 192.168.0.158 at 2014-12-11 16:58:11 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"r48GoPTqeffMZX9xiK3U/qzVw0ERWQsOqNdRai77MYo=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7430ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-11 15:52:57 UTC, "current_sign_in_at"=>2014-12-11 15:58:11 UTC, "last_sign_in_ip"=>"192.168.0.158", "sign_in_count"=>8, "updated_at"=>2014-12-11 15:58:11 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6420ms
Redirected to http://192.168.0.207:3000/
Completed 302 Found in 83ms


Started GET "/" for 192.168.0.158 at 2014-12-11 16:58:11 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5350ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms)


Started GET "/admin/users" for 192.168.0.158 at 2014-12-11 16:58:14 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4130ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5050ms
  Rendered admin/users/index.html.haml within layouts/admin (12.7ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 22ms (Views: 18.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.158 at 2014-12-11 16:58:25 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"tiger12", "email"=>"tiger1@hotmail", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638", "time_zone"=>"-8", "token"=>"logout"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"tiger1@hotmail"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atiger12$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4980ms
Completed 200 OK in 78ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.158 at 2014-12-11 17:00:58 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1adfsafdsf", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638", "time_zone"=>"-8", "token"=>"logout"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test1adfsafdsf"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest1$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4910ms
Completed 200 OK in 77ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.158 at 2014-12-11 17:01:03 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1adfsafdsf", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"8A26D4EB-BECC-4FA9-AC16-B6D60722F638", "time_zone"=>"-8", "token"=>"logout"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test1adfsafdsf"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest1$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5140ms
Completed 200 OK in 76ms (Views: 0.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-11 17:02:56 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (10.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-11 17:03:03 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"koNwc+QWkUutjmJCey0n9TYkPQbXbMQE5fi2mZkXixo=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7690ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-11 15:58:11 UTC, "current_sign_in_at"=>2014-12-11 16:03:03 UTC, "current_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>9, "updated_at"=>2014-12-11 16:03:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6310ms
Redirected to http://localhost:3000/
Completed 302 Found in 81ms


Started GET "/" for 127.0.0.1 at 2014-12-11 17:03:03 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8860ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 8.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-11 17:03:06 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5870ms
  Rendered admin/users/index.html.haml within layouts/admin (14.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 26ms (Views: 20.3ms)


Started GET "/" for 192.168.0.158 at 2014-12-11 17:05:22 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6340ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-12 11:44:01 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.8ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (3.6ms)
  Rendered layouts/_footer.html.haml (10.8ms)
Completed 200 OK in 545ms (Views: 514.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-12 11:44:04 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (324.5ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 337ms (Views: 333.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-12 11:44:31 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"OXJyEU1+pRBb9xfbInOv8fmgHT2fQD6adSRH/z7D5ww=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 26.5760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 192.6540ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-11 16:03:03 UTC, "current_sign_in_at"=>2014-12-12 10:44:31 UTC, "last_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>10, "updated_at"=>2014-12-12 10:44:31 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 39.3540ms
Redirected to http://localhost:3000/
Completed 302 Found in 373ms


Started GET "/" for 127.0.0.1 at 2014-12-12 11:44:31 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5980ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 10ms (Views: 8.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-12 11:44:33 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6590ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 25.8390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7800ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.7000ms
  Rendered admin/users/index.html.haml within layouts/admin (39.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 79ms (Views: 48.1ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-23 13:46:28 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.5ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (8.6ms)
  Rendered layouts/_footer.html.haml (1.4ms)
Completed 200 OK in 1214ms (Views: 1183.4ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-23 13:46:32 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (307.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 319ms (Views: 316.3ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 157.1690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.2090ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-23 13:47:22 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"06yVjK1j1Y12nPiMMB/Opn7MQ22Ezb7v7vHhjTdABCo=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 10:45:11 UTC, "current_sign_in_at"=>2014-12-23 12:47:22 UTC, "sign_in_count"=>14, "updated_at"=>2014-12-23 12:47:22 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7800ms
Redirected to http://localhost:3000/
Completed 302 Found in 184ms


Started GET "/" for 127.0.0.1 at 2014-12-23 13:47:22 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5970ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 43ms (Views: 41.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 13:47:24 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.4210ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4980ms
  Rendered admin/users/index.html.haml within layouts/admin (78.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 90ms (Views: 86.0ms)


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-23 13:49:47 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Lt4_ZEmxZ4FVkzRnt8wA"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6250ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-23 13:50:12 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Lt4_ZEmxZ4FVkzRnt8wA"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6030ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-23 13:50:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Lt4_ZEmxZ4FVkzRnt8wA"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5690ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-23 13:51:55 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Lt4_ZEmxZ4FVkzRnt8wA"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5240ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.158 at 2014-12-23 13:52:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"Lt4_ZEmxZ4FVkzRnt8wA"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5170ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:10:23 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>""}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4450ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.229 at 2014-12-23 14:11:59 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test1", "email"=>"test1@a.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "time_zone"=>"8", "token"=>""}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test1@a.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 66.7600ms
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest1$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 64.8100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6470ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "email"=>"test1@a.com", "name"=>"test1", "encrypted_password"=>"$2a$10$mvFSZPtlcyYkz37gs250luymIuQSxoUf6kGRsctfLDNbkPYkwkjoi", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "gender"=>nil, "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "user_status"=>0, "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"ewztFdXJk9PtHsGuRUpy", "updated_at"=>2014-12-23 13:12:00 UTC, "created_at"=>2014-12-23 13:12:00 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 53.7550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 35.8780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 20.3760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996a20546f6d1b22010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:12:00 UTC, "created_at"=>2014-12-23 13:12:00 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6240ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:12:00 UTC, "current_sign_in_at"=>2014-12-23 13:12:00 UTC, "last_sign_in_ip"=>"192.168.0.229", "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>1, "updated_at"=>2014-12-23 13:12:00 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 18.5030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test1@a.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4340ms
  Rendered user_mailer/welcome.html.haml (54.8ms)

UserMailer#welcome: processed outbound mail in 170.6ms

Sent mail to test1@a.com (301.1ms)
Date: Tue, 23 Dec 2014 14:12:01 +0100
From: support@timechat.com.au
To: test1@a.com
Message-ID: <54996a21180a8_1b223fdff4c65bec266ed@Tomass-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test1!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/54996a20546f6d1b22000000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 1460ms (Views: 1.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:14:21 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5210ms
  Rendered admin/users/index.html.haml within layouts/admin (160.3ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 231ms (Views: 226.1ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.229 at 2014-12-23 14:15:05 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test2", "email"=>"test2@a.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "time_zone"=>"8", "token"=>""}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test2@a.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest2$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4420ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "email"=>"test2@a.com", "name"=>"test2", "encrypted_password"=>"$2a$10$8XWCqKHFfZpfz2iRoJtua.JH8Hj.EuIUEcj9Cr9QsdYEwHu99/tpm", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "gender"=>nil, "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "user_status"=>0, "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"YscX2-QXBixPZeKZd_WN", "updated_at"=>2014-12-23 13:15:05 UTC, "created_at"=>2014-12-23 13:15:05 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6930ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4110ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 346.1640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996ad9546f6d1b22030000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-23 13:15:05 UTC, "created_at"=>2014-12-23 13:15:05 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:15:05 UTC, "current_sign_in_at"=>2014-12-23 13:15:05 UTC, "last_sign_in_ip"=>"192.168.0.229", "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>1, "updated_at"=>2014-12-23 13:15:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test2@a.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3620ms
  Rendered user_mailer/welcome.html.haml (1.0ms)

UserMailer#welcome: processed outbound mail in 11.2ms

Sent mail to test2@a.com (17.6ms)
Date: Tue, 23 Dec 2014 14:15:05 +0100
From: support@timechat.com.au
To: test2@a.com
Message-ID: <54996ad9cb3d6_1b223fdff4c65bec267d2@Tomass-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test2!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/54996ad9546f6d1b22020000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 476ms (Views: 4.6ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:15:16 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.7690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.8300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6670ms
  Rendered admin/users/index.html.haml within layouts/admin (48.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 61ms (Views: 55.1ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-23 14:15:36 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4200ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22030000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4380ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996af8546f6d1b22040000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:15:36 UTC, "created_at"=>2014-12-23 13:15:36 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6460ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"current_sign_in_at"=>2014-12-23 13:15:36 UTC, "sign_in_count"=>2, "updated_at"=>2014-12-23 13:15:36 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6300ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"time_zone"=>"8", "last_sign_in_at"=>2014-12-23 13:15:36 UTC, "user_status"=>1, "updated_at"=>2014-12-23 13:15:36 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6170ms
Completed 200 OK in 89ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-23 14:15:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.7570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4060ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:15:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7710ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.4520ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:15:40 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6840ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6220ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.8410ms
  Rendered admin/users/index.html.haml within layouts/admin (50.4ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 62ms (Views: 57.4ms)


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.229 at 2014-12-23 14:15:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9640ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996b07546f6d1b22050000'), "status"=>402, "message"=>"test1 wants to add you in his friends", "data"=>"54996a20546f6d1b22000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-23 13:15:51 UTC, "created_at"=>2014-12-23 13:15:51 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 266.1840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8210ms
  Rendered user_mailer/invite_friend.html.haml (6.4ms)

UserMailer#invite_friend: processed outbound mail in 52.0ms

Sent mail to test2@a.com (20.7ms)
Date: Tue, 23 Dec 2014 14:15:51 +0100
From: support@timechat.com.au
To: test2@a.com
Message-ID: <54996b07c1319_1b223fdff4c65bec2684c@Tomass-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test2
      </h3>
      <p>
        You are invited to join Test1.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 1.3540ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.8730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5480ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000", "invited_friend_ids"=>"54996ad9546f6d1b22020000", "updated_at"=>2014-12-23 13:15:51 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8520ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:16:05 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6570ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6280ms
  Rendered admin/users/index.html.haml within layouts/admin (47.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 59ms (Views: 54.6ms)


Started GET "/admin/users/54996a20546f6d1b22000000/edit" for 127.0.0.1 at 2014-12-23 14:16:32 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"54996a20546f6d1b22000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7850ms
  Rendered admin/users/_form.html.haml (113.9ms)
  Rendered admin/users/edit.html.haml within layouts/admin (118.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 163ms (Views: 159.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:16:34 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.0980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4650ms
  Rendered admin/users/index.html.haml within layouts/admin (49.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 63ms (Views: 56.4ms)


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:16:57 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 66.9360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9210ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-23 14:17:07 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6260ms
Completed 200 OK in 51ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-23 14:17:23 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7630ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996af8546f6d1b22040000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996b64546f6d1b22060000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-23 13:17:24 UTC, "created_at"=>2014-12-23 13:17:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"current_sign_in_at"=>2014-12-23 13:17:24 UTC, "sign_in_count"=>2, "updated_at"=>2014-12-23 13:17:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"time_zone"=>"8", "last_sign_in_at"=>2014-12-23 13:17:24 UTC, "user_status"=>1, "updated_at"=>2014-12-23 13:17:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5680ms
Completed 200 OK in 85ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-23 14:17:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.4290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3780ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:17:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.5320ms


Started GET "/api/v1/notifications?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:17:25 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 57.3430ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996b07546f6d1b22050000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:17:25 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6220ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-23 14:17:26 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996b07546f6d1b22050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5660ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996b07546f6d1b22050000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5620ms


Started POST "/api/v1/friends/accept_friend" for 192.168.0.229 at 2014-12-23 14:17:26 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"invited_friend_ids"=>"", "updated_at"=>2014-12-23 13:17:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996b66546f6d1b22070000'), "status"=>403, "message"=>"test2 accepted your invitation to friends", "data"=>"54996ad9546f6d1b22020000", "type"=>"accept", "is_read"=>false, "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:17:26 UTC, "created_at"=>2014-12-23 13:17:26 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7520ms
  Rendered user_mailer/accept_friend.html.haml (5.9ms)

UserMailer#accept_friend: processed outbound mail in 48.7ms

Sent mail to test1@a.com (17.2ms)
Date: Tue, 23 Dec 2014 14:17:26 +0100
From: support@timechat.com.au
To: test1@a.com
Message-ID: <54996b66974f4_1b223fdff4c65bec26962@Tomass-Mac-mini.local.mail>
Subject: Acceted Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'></div>
    <div class='content'>
      <h3>
        Dear
        Test1
      </h3>
      <p>
        You have been accepted as friend by
        Test2
        <br>
        Please check your friend
      </p>
      <p>
        Thank you,
      </p>
    </div>
    <div class='footer'></div>
  </body>
</html>
<style>
  p, h3{
    color: red;
  }
  h3{
    margin: 0px;
  }
  .header{
    background: url("http://192.168.0.55:3000/assets/email_template_header.png");
    height: 98px;
  }
  .footer{
    background: url("http://192.168.0.55:3000/assets/email_template_mark.png") no-repeat;
    height: 50px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 1.5370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3210ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"friend_ids"=>"54996a20546f6d1b22000000", "updated_at"=>2014-12-23 13:17:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"_id"=>BSON::ObjectId('54996b07546f6d1b22050000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4600ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:17:42 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6390ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6790ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5110ms
  Rendered admin/users/index.html.haml within layouts/admin (48.8ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 61ms (Views: 55.9ms)


Started GET "/api/v1/friends?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:17:48 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7880ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 1.1760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5250ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-23 14:18:15 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5780ms
Completed 200 OK in 8ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.229 at 2014-12-23 14:19:02 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test3", "email"=>"test3@a.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "time_zone"=>"8", "token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test3@a.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest3$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4230ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "email"=>"test3@a.com", "name"=>"test3", "encrypted_password"=>"$2a$10$pI8fO5ZjPoVvSRQ99cUJMOxTVTzNNo8cxa2VFIm5BYKUzAANQiGO2", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "gender"=>nil, "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "user_status"=>0, "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"_BzmtUPskDp9NxDS7LYu", "updated_at"=>2014-12-23 13:19:02 UTC, "created_at"=>2014-12-23 13:19:02 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 45.0260ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.6960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4910ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996b64546f6d1b22060000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4100ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996bc6546f6d1b22090000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "updated_at"=>2014-12-23 13:19:02 UTC, "created_at"=>2014-12-23 13:19:02 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5450ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:19:02 UTC, "current_sign_in_at"=>2014-12-23 13:19:02 UTC, "last_sign_in_ip"=>"192.168.0.229", "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>1, "updated_at"=>2014-12-23 13:19:02 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test3@a.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4040ms
  Rendered user_mailer/welcome.html.haml (1.1ms)

UserMailer#welcome: processed outbound mail in 11.7ms

Sent mail to test3@a.com (16.1ms)
Date: Tue, 23 Dec 2014 14:19:02 +0100
From: support@timechat.com.au
To: test3@a.com
Message-ID: <54996bc68f12d_1b223fdff4c65bec27081@Tomass-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test3!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/54996bc6546f6d1b22080000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 172ms (Views: 2.8ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-23 14:19:17 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8840ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.8090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22090000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996bd5546f6d1b220a0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-23 13:19:17 UTC, "created_at"=>2014-12-23 13:19:17 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6160ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:17:24 UTC, "current_sign_in_at"=>2014-12-23 13:19:17 UTC, "sign_in_count"=>3, "updated_at"=>2014-12-23 13:19:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:19:17 UTC, "updated_at"=>2014-12-23 13:19:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5860ms
Completed 200 OK in 89ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-23 14:19:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.4420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3340ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:19:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.5120ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.229 at 2014-12-23 14:19:26 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test3$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6840ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996bde546f6d1b220b0000'), "status"=>402, "message"=>"test2 wants to add you in his friends", "data"=>"54996ad9546f6d1b22020000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "updated_at"=>2014-12-23 13:19:26 UTC, "created_at"=>2014-12-23 13:19:26 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  Rendered user_mailer/invite_friend.html.haml (1.0ms)

UserMailer#invite_friend: processed outbound mail in 13.2ms

Sent mail to test3@a.com (21.1ms)
Date: Tue, 23 Dec 2014 14:19:26 +0100
From: support@timechat.com.au
To: test3@a.com
Message-ID: <54996bdea42bb_1b223fdff4c65bec27160@Tomass-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test3
      </h3>
      <p>
        You are invited to join Test2.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "is_read"=>false}} runtime: 1.1750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.7980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3720ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"friend_ids"=>"54996a20546f6d1b22000000,54996bc6546f6d1b22080000", "invited_friend_ids"=>"54996bc6546f6d1b22080000", "updated_at"=>2014-12-23 13:19:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9610ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:19:34 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.4790ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:19:40 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.3120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5040ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6720ms
  Rendered admin/users/index.html.haml within layouts/admin (81.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 95ms (Views: 88.6ms)


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-23 14:20:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8460ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=media documents=[{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "media_type"=>"1", "shared_ids"=>"", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "file"=>"new.png", "updated_at"=>2014-12-23 13:20:17 UTC, "created_at"=>2014-12-23 13:20:17 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 97.8890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.6610ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:20:28 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3620ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.3620ms


Started POST "/api/v1/medias/like" for 192.168.0.229 at 2014-12-23 14:20:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=likes selector={"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3880ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=likes documents=[{"_id"=>BSON::ObjectId('54996c20546f6d1b220d0000'), "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "updated_at"=>2014-12-23 13:20:32 UTC, "created_at"=>2014-12-23 13:20:32 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 90.9040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.5470ms


Started POST "/api/v1/comments/add_comment" for 192.168.0.229 at 2014-12-23 14:20:48 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5200ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=comments documents=[{"_id"=>BSON::ObjectId('54996c30546f6d1b220e0000'), "comment"=>"wweyddggf", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "updated_at"=>2014-12-23 13:20:48 UTC, "created_at"=>2014-12-23 13:20:48 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 53.5930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6730ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4260ms


Started POST "/api/v1/comments/add_audio_comment" for 192.168.0.229 at 2014-12-23 14:20:54 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7150ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=comments documents=[{"_id"=>BSON::ObjectId('54996c36546f6d1b220f0000'), "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "audio_comment"=>"audio.caf", "updated_at"=>2014-12-23 13:20:54 UTC, "created_at"=>2014-12-23 13:20:54 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4730ms


Started GET "/api/v1/friends?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:21:14 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3540ms


Started POST "/api/v1/medias/share_medias" for 192.168.0.229 at 2014-12-23 14:21:18 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>{"$in"=>[BSON::ObjectId('54996a20546f6d1b22000000')]}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 60.3850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7660ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} update={"$set"=>{"shared_ids"=>"54996a20546f6d1b22000000", "updated_at"=>2014-12-23 13:21:18 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "media_id"=>"54996c11546f6d1b220c0000"}} runtime: 0.5680ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996c4e546f6d1b22100000'), "status"=>407, "message"=>"test2 shared photo", "data"=>"54996ad9546f6d1b22020000", "media_id"=>"54996c11546f6d1b220c0000", "media_user_id"=>"54996ad9546f6d1b22020000", "media_user_name"=>"test2", "type"=>"share", "is_read"=>false, "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:21:18 UTC, "created_at"=>2014-12-23 13:21:18 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7220ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2760ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-23 14:21:21 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5880ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4560ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4440ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-23 14:21:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4590ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"comments", :query=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.3900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4390ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.4760ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-23 14:21:28 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5670ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:21:42 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 2.1250ms
  Rendered admin/users/index.html.haml within layouts/admin (48.8ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 58ms (Views: 54.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-23 14:21:43 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7630ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996bd5546f6d1b220a0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4100ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996c67546f6d1b22110000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:21:43 UTC, "created_at"=>2014-12-23 13:21:43 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4580ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:15:36 UTC, "current_sign_in_at"=>2014-12-23 13:21:43 UTC, "sign_in_count"=>3, "updated_at"=>2014-12-23 13:21:43 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:21:43 UTC, "updated_at"=>2014-12-23 13:21:43 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5270ms
Completed 200 OK in 86ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-23 14:21:43 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6620ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4640ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:21:43 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.4290ms


Started GET "/api/v1/notifications?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:21:45 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c4e546f6d1b22100000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:21:45 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4890ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996b66546f6d1b22070000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:21:45 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5270ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4720ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-23 14:21:47 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996b66546f6d1b22070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5800ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996b66546f6d1b22070000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7290ms


Started GET "/api/v1/medias/media_info?token=ewztFdXJk9PtHsGuRUpy&media_id=54996c11546f6d1b220c0000" for 192.168.0.229 at 2014-12-23 14:21:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5030ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-23 14:21:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c4e546f6d1b22100000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4530ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c4e546f6d1b22100000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4800ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:21:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4030ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:21:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4060ms


Started POST "/api/v1/medias/like" for 192.168.0.229 at 2014-12-23 14:21:54 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=likes selector={"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3820ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=likes documents=[{"_id"=>BSON::ObjectId('54996c72546f6d1b22120000'), "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "updated_at"=>2014-12-23 13:21:54 UTC, "created_at"=>2014-12-23 13:21:54 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4850ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996c72546f6d1b22130000'), "status"=>411, "message"=>"test1 liked media", "data"=>"54996a20546f6d1b22000000", "media_id"=>"54996c11546f6d1b220c0000", "type"=>"photo_like", "is_read"=>false, "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-23 13:21:54 UTC, "created_at"=>2014-12-23 13:21:54 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2720ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4010ms


Started POST "/api/v1/comments/add_comment" for 192.168.0.229 at 2014-12-23 14:22:04 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6420ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=comments documents=[{"_id"=>BSON::ObjectId('54996c7c546f6d1b22140000'), "comment"=>"ddfggfffcvn\nttygh", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000'), "updated_at"=>2014-12-23 13:22:04 UTC, "created_at"=>2014-12-23 13:22:04 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5980ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996c7c546f6d1b22150000'), "status"=>409, "message"=>"test1 added new comment", "data"=>"54996a20546f6d1b22000000", "media_id"=>"54996c11546f6d1b220c0000", "type"=>"comment", "is_read"=>false, "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-23 13:22:04 UTC, "created_at"=>2014-12-23 13:22:04 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4550ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:22:25 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.3920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3480ms


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-23 14:22:27 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4710ms


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-23 14:22:27 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5040ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4480ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:22:29 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6880ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4280ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4360ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:22:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.4880ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-23 14:25:18 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6380ms
Completed 200 OK in 17ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_up" for 192.168.0.229 at 2014-12-23 14:25:50 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"username"=>"test4", "email"=>"test4@a.com", "social_type"=>"email", "password"=>"[FILTERED]", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "time_zone"=>"8", "token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"test4@a.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.5700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\Atest4$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4340ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "email"=>"test4@a.com", "name"=>"test4", "encrypted_password"=>"$2a$10$VwFwZ8HpbAusxEN/if2Y5.DT40cNHWIFfr4WKw21JMl.mfoM2/fzm", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "gender"=>nil, "social_type"=>"email", "social_id"=>"", "time_zone"=>nil, "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "user_status"=>0, "auto_accept_friend"=>false, "auto_notify_friend"=>false, "authentication_token"=>"6SdTyNE8-23s5vikYs_q", "updated_at"=>2014-12-23 13:25:50 UTC, "created_at"=>2014-12-23 13:25:50 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6810ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.8410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6410ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996c67546f6d1b22110000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4510ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996d5e546f6d1b22170000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-23 13:25:50 UTC, "created_at"=>2014-12-23 13:25:50 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5740ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:25:50 UTC, "current_sign_in_at"=>2014-12-23 13:25:50 UTC, "last_sign_in_ip"=>"192.168.0.229", "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>1, "updated_at"=>2014-12-23 13:25:50 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=user_temp_notifications selector={"$query"=>{"email"=>"test4@a.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3210ms
  Rendered user_mailer/welcome.html.haml (1.0ms)

UserMailer#welcome: processed outbound mail in 11.1ms

Sent mail to test4@a.com (15.7ms)
Date: Tue, 23 Dec 2014 14:25:50 +0100
From: support@timechat.com.au
To: test4@a.com
Message-ID: <54996d5eb5cec_1b223fdff4c65bec27245@Tomass-Mac-mini.local.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h2>Hi test4!</h2>
      <h2>
        THANKS FOR REGISTERING FOR AN ACCOUNT AT TIMECHAT.
        <sup>TM</sup>
      </h2>
      <hr style='background-color: #8bc4E0;height: 2px;border: none;'>
      <p style='color: red;'>
        If you didn't make this request, you could cancel the account by clicking the link below and it will permanently be removed off our system.
      </p>
      <p style='color: red;'>
        <h2 style='color:red;margin:0px;'>PLEASE ONLY CLICK IF YOU WANT TO REMOVE THIS ACCOUNT</h2>
        <h2 style='color:red;margin:0px;'>(ACTION CANNOT BE UNDONE!)</h2>
      </p>
      <p>
        <a data-confirm="Are you sure" data-method="delete" href="http://timechatnet.herokuapp.com/users/destroy/54996d5e546f6d1b22160000" rel="nofollow">Destroy your email</a>
      </p>
      <p>
        Other members cannot see your e-mail address. We do not spam and this may be the last e-mail you receive from us. You will however, receive a notification e-mail
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

Completed 200 OK in 160ms (Views: 2.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:26:04 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5130ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4940ms
  Rendered admin/users/index.html.haml within layouts/admin (71.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 85ms (Views: 78.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-23 14:26:21 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test4", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test4$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.5110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3770ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22170000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3840ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996d7d546f6d1b22180000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-23 13:26:21 UTC, "created_at"=>2014-12-23 13:26:21 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5730ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"time_zone"=>"8", "last_sign_in_at"=>2014-12-23 13:26:21 UTC, "user_status"=>1, "updated_at"=>2014-12-23 13:26:21 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6070ms
Completed 200 OK in 93ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=6SdTyNE8-23s5vikYs_q&friend_id=54996d5e546f6d1b22160000" for 192.168.0.229 at 2014-12-23 14:26:21 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.6460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4380ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:26:21 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8330ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.5690ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:26:24 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5350ms
  Rendered admin/users/index.html.haml within layouts/admin (92.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 104ms (Views: 99.7ms)


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.229 at 2014-12-23 14:27:07 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test3$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7720ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996dab546f6d1b22190000'), "status"=>402, "message"=>"test4 wants to add you in his friends", "data"=>"54996d5e546f6d1b22160000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "updated_at"=>2014-12-23 13:27:07 UTC, "created_at"=>2014-12-23 13:27:07 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5210ms
  Rendered user_mailer/invite_friend.html.haml (1.1ms)

UserMailer#invite_friend: processed outbound mail in 13.7ms

Sent mail to test3@a.com (16.4ms)
Date: Tue, 23 Dec 2014 14:27:07 +0100
From: support@timechat.com.au
To: test3@a.com
Message-ID: <54996dabba585_1b223fdff4c65bec2734a@Tomass-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test3
      </h3>
      <p>
        You are invited to join Test4.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "is_read"=>false}} runtime: 1.4550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4470ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"friend_ids"=>"54996bc6546f6d1b22080000", "invited_friend_ids"=>"54996bc6546f6d1b22080000", "updated_at"=>2014-12-23 13:27:07 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8520ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.230 at 2014-12-23 14:27:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"N4V117dTdnz2jGxddbSp"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5450ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.230 at 2014-12-23 14:27:41 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"N4V117dTdnz2jGxddbSp"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5280ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:28:08 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5940ms
  Rendered admin/users/index.html.haml within layouts/admin (78.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 90ms (Views: 85.6ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:28:10 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8440ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5900ms
  Rendered admin/users/index.html.haml within layouts/admin (97.4ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 110ms (Views: 103.6ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.230 at 2014-12-23 14:29:22 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"FC754ECE-88B0-4AB6-8E17-C13C4FFC032C"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7270ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"FC754ECE-88B0-4AB6-8E17-C13C4FFC032C"}} runtime: 0.6370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"FC754ECE-88B0-4AB6-8E17-C13C4FFC032C"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"FC754ECE-88B0-4AB6-8E17-C13C4FFC032C"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"FC754ECE-88B0-4AB6-8E17-C13C4FFC032C"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4230ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('54996e32546f6d1b221a0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"FC754ECE-88B0-4AB6-8E17-C13C4FFC032C", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:29:22 UTC, "created_at"=>2014-12-23 13:29:22 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7430ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:21:43 UTC, "current_sign_in_at"=>2014-12-23 13:29:22 UTC, "current_sign_in_ip"=>"192.168.0.230", "sign_in_count"=>4, "updated_at"=>2014-12-23 13:29:22 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7040ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:29:22 UTC, "updated_at"=>2014-12-23 13:29:22 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7310ms
Completed 200 OK in 84ms (Views: 0.6ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.230 at 2014-12-23 14:29:22 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.4950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4170ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:29:22 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6580ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:29:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3700ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.230 at 2014-12-23 14:29:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test4$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996e40546f6d1b221b0000'), "status"=>402, "message"=>"test1 wants to add you in his friends", "data"=>"54996a20546f6d1b22000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-23 13:29:36 UTC, "created_at"=>2014-12-23 13:29:36 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5570ms
  Rendered user_mailer/invite_friend.html.haml (0.9ms)

UserMailer#invite_friend: processed outbound mail in 11.9ms

Sent mail to test4@a.com (17.9ms)
Date: Tue, 23 Dec 2014 14:29:36 +0100
From: support@timechat.com.au
To: test4@a.com
Message-ID: <54996e40a1f48_1b223fdff4c65bec274c7@Tomass-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test4
      </h3>
      <p>
        You are invited to join Test1.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 2.1760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.7390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6730ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000,54996d5e546f6d1b22160000", "invited_friend_ids"=>"54996d5e546f6d1b22160000", "updated_at"=>2014-12-23 13:29:36 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6970ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:29:44 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5680ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996e40546f6d1b221b0000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:29:44 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7800ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:29:58 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7580ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.5440ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:30:05 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7550ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:30:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6790ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-23 14:30:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8280ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:30:06 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6340ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:30:07 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.7500ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:30:11 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5050ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.230 at 2014-12-23 14:30:34 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test4$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5810ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:30:47 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5880ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.3690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2880ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:30:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7260ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:30:49 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6290ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-23 14:31:23 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:31:23 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5970ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:31:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.6600ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:31:25 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5520ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:32:40 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.5260ms


Started GET "/api/v1/notifications?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:32:45 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4390ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.230 at 2014-12-23 14:33:22 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7160ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=media documents=[{"_id"=>BSON::ObjectId('54996f23546f6d1b221c0000'), "media_type"=>"1", "shared_ids"=>"", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "file"=>"new.png", "updated_at"=>2014-12-23 13:33:23 UTC, "created_at"=>2014-12-23 13:33:23 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.5750ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:33:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7380ms


Started POST "/api/v1/friends/decline_friend" for 192.168.0.229 at 2014-12-23 14:33:37 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7540ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000", "invited_friend_ids"=>"", "updated_at"=>2014-12-23 13:33:37 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996f31546f6d1b221d0000'), "status"=>406, "message"=>"test4 declined your invitiation to friends", "data"=>"54996d5e546f6d1b22160000", "type"=>"decline", "is_read"=>false, "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:33:37 UTC, "created_at"=>2014-12-23 13:33:37 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5240ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6230ms
  Rendered user_mailer/decline_friend.html.haml (6.5ms)

UserMailer#decline_friend: processed outbound mail in 66.5ms

Sent mail to test1@a.com (20.4ms)
Date: Tue, 23 Dec 2014 14:33:37 +0100
From: support@timechat.com.au
To: test1@a.com
Message-ID: <54996f31937b8_1b223fdff4c65bec275ed@Tomass-Mac-mini.local.mail>
Subject: Declined Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'></div>
    <div class='content'>
      <h3>
        Dear
        Test1
      </h3>
      <p>
        You have been declined by
        Test4
        <br>
        Please check your friend
      </p>
      <p>
        Thank you,
        <br>
        TimeChat team
      </p>
    </div>
    <div class='footer'></div>
  </body>
</html>
<style>
  p, h3{
    color: red;
  }
  h3{
    margin: 0px;
  }
  .header{
    background: url("http://192.168.0.55:3000/assets/email_template_header.png");
    height: 98px;
  }
  .footer{
    background: url("http://192.168.0.55:3000/assets/email_template_mark.png") no-repeat;
    height: 50px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 1.7100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"_id"=>BSON::ObjectId('54996e40546f6d1b221b0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7070ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-23 14:33:37 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 5.9770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996e40546f6d1b221b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8250ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996e40546f6d1b221b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9300ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:33:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4340ms


Started POST "/api/v1/accounts/change_profile" for 192.168.0.230 at 2014-12-23 14:33:54 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6250ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"avatar"=>"avatar.png", "updated_at"=>2014-12-23 13:33:54 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6950ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=avatar_statuses documents=[{"_id"=>BSON::ObjectId('54996f48546f6d1b221e0000'), "status"=>1, "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:34:00 UTC, "created_at"=>2014-12-23 13:34:00 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 68.8410ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:34:00 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.3400ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.8050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5540ms
  Rendered admin/users/index.html.haml within layouts/admin (87.4ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 100ms (Views: 94.3ms)


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:34:04 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5730ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3650ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-23 14:34:07 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5130ms
  Rendered admin/users/index.html.haml within layouts/admin (70.9ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 84ms (Views: 79.2ms)


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.229 at 2014-12-23 14:34:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996f59546f6d1b221f0000'), "status"=>402, "message"=>"test4 wants to add you in his friends", "data"=>"54996d5e546f6d1b22160000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:34:17 UTC, "created_at"=>2014-12-23 13:34:17 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6740ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5360ms
  Rendered user_mailer/invite_friend.html.haml (0.9ms)

UserMailer#invite_friend: processed outbound mail in 12.1ms

Sent mail to test1@a.com (19.1ms)
Date: Tue, 23 Dec 2014 14:34:17 +0100
From: support@timechat.com.au
To: test1@a.com
Message-ID: <54996f598a638_1b223fdff4c65bec276b6@Tomass-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test1
      </h3>
      <p>
        You are invited to join Test4.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 1.0410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4530ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"friend_ids"=>"54996bc6546f6d1b22080000,54996a20546f6d1b22000000", "invited_friend_ids"=>"54996bc6546f6d1b22080000,54996a20546f6d1b22000000", "updated_at"=>2014-12-23 13:34:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 2.0760ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.230 at 2014-12-23 14:34:18 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0000ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:34:18 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6470ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.230 at 2014-12-23 14:34:22 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9300ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:34:22 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6880ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:34:23 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.5140ms


Started GET "/api/v1/notifications?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:34:25 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6000ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f59546f6d1b221f0000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:34:25 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5440ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f31546f6d1b221d0000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:34:25 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5520ms


Started POST "/api/v1/notifications/delete" for 192.168.0.230 at 2014-12-23 14:34:29 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f31546f6d1b221d0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5180ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f31546f6d1b221d0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5450ms


Started POST "/api/v1/notifications/delete" for 192.168.0.230 at 2014-12-23 14:34:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f59546f6d1b221f0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4440ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f59546f6d1b221f0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4700ms


Started POST "/api/v1/friends/accept_friend" for 192.168.0.230 at 2014-12-23 14:34:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4820ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"invited_friend_ids"=>"54996bc6546f6d1b22080000", "updated_at"=>2014-12-23 13:34:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5660ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('54996f66546f6d1b22200000'), "status"=>403, "message"=>"test1 accepted your invitation to friends", "data"=>"54996a20546f6d1b22000000", "type"=>"accept", "is_read"=>false, "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-23 13:34:30 UTC, "created_at"=>2014-12-23 13:34:30 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4890ms
  Rendered user_mailer/accept_friend.html.haml (0.5ms)

UserMailer#accept_friend: processed outbound mail in 122.3ms

Sent mail to test4@a.com (17.3ms)
Date: Tue, 23 Dec 2014 14:34:30 +0100
From: support@timechat.com.au
To: test4@a.com
Message-ID: <54996f66e350a_1b223fdff4c65bec277f3@Tomass-Mac-mini.local.mail>
Subject: Acceted Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'></div>
    <div class='content'>
      <h3>
        Dear
        Test4
      </h3>
      <p>
        You have been accepted as friend by
        Test1
        <br>
        Please check your friend
      </p>
      <p>
        Thank you,
      </p>
    </div>
    <div class='footer'></div>
  </body>
</html>
<style>
  p, h3{
    color: red;
  }
  h3{
    margin: 0px;
  }
  .header{
    background: url("http://192.168.0.55:3000/assets/email_template_header.png");
    height: 98px;
  }
  .footer{
    background: url("http://192.168.0.55:3000/assets/email_template_mark.png") no-repeat;
    height: 50px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 3.5090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9710ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000,54996d5e546f6d1b22160000", "updated_at"=>2014-12-23 13:34:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"_id"=>BSON::ObjectId('54996f59546f6d1b221f0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4760ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:34:33 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4600ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3470ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:34:46 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4790ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3060ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.3410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3300ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:35:02 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.3610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2890ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:35:12 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3900ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:35:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7370ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:35:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6410ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.230 at 2014-12-23 14:35:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0750ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:35:49 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7060ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.230 at 2014-12-23 14:35:56 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0680ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:35:56 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7490ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:35:57 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.4560ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.230 at 2014-12-23 14:36:33 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:36:33 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6250ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.230 at 2014-12-23 14:36:33 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6390ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:36:33 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7140ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:36:34 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7590ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6450ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:37:20 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7770ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.3640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2830ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:37:34 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.3700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2770ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-23 14:37:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7020ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:37:49 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6550ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:37:50 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7560ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.4710ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:37:52 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9980ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:37:52 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6190ms


Started GET "/api/v1/notifications?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-23 14:38:01 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4330ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.229 at 2014-12-23 14:40:10 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:40:10 UTC, "user_status"=>1, "updated_at"=>2014-12-23 13:40:10 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6430ms


Started GET "/api/v1/medias/medias_for_friend?token=6SdTyNE8-23s5vikYs_q&friend_id=54996d5e546f6d1b22160000" for 192.168.0.229 at 2014-12-23 14:40:11 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.5510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6610ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:40:11 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.6650ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:40:15 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5300ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f66546f6d1b22200000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-23 13:40:15 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8250ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-23 14:40:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f66546f6d1b22200000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4820ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996f66546f6d1b22200000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5760ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:40:34 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7920ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:40:34 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7010ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-23 14:41:23 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8400ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:41:23 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6480ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:41:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.4940ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:41:29 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.5100ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:41:31 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:41:31 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6550ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-23 14:41:48 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6820ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:41:48 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5990ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-23 14:41:48 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.5180ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-23 14:41:54 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"6SdTyNE8-23s5vikYs_q"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7670ms
Completed 200 OK in 4ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-23 14:42:07 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7810ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4980ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('54996d7d546f6d1b22180000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4260ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4090ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('5499712f546f6d1b22210000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-23 13:42:07 UTC, "created_at"=>2014-12-23 13:42:07 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5530ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:29:22 UTC, "current_sign_in_at"=>2014-12-23 13:42:07 UTC, "last_sign_in_ip"=>"192.168.0.230", "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>5, "updated_at"=>2014-12-23 13:42:07 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5990ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:42:07 UTC, "updated_at"=>2014-12-23 13:42:07 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5700ms
Completed 200 OK in 85ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-23 14:42:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-21 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-22 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5310ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-23 14:42:37 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996f23546f6d1b221c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5400ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996f23546f6d1b221c0000')}} runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"comments", :query=>{"medium_id"=>BSON::ObjectId('54996f23546f6d1b221c0000')}} runtime: 0.4010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6210ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-23 14:46:07 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 14.1380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9130ms
Completed 200 OK in 23ms (Views: 0.2ms)


Started POST "/api/v1/accounts/set_offline" for 192.168.0.230 at 2014-12-23 14:48:10 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5720ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:48:10 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7130ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:51:09 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8020ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-23 14:52:07 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7650ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-23 13:52:07 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6210ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:52:07 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.5950ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-23 14:52:10 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.4880ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-23 14:52:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7220ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-23 13:52:13 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6730ms
Overwriting existing field avatar in class User.


Started GET "/" for 192.168.0.229 at 2014-12-23 20:43:21 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.1ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (2.4ms)
  Rendered layouts/_footer.html.haml (9.2ms)
Completed 200 OK in 1071ms (Views: 1040.6ms)


Started GET "/users/sign_in" for 192.168.0.229 at 2014-12-23 20:43:30 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (279.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 291ms (Views: 288.0ms)


Started GET "/users/sign_in" for 192.168.0.229 at 2014-12-23 20:43:31 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (7.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 17ms (Views: 15.6ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-24 03:13:16 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (2.2ms)
  Rendered layouts/_footer.html.haml (1.7ms)
Completed 200 OK in 4999ms (Views: 4973.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-24 03:13:29 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (226.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 242ms (Views: 238.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-24 03:13:38 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"mfuWdCvs6AzuzkhVBgaPKdY85OKcJQ5h9ujBQ7amRQU=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 161.3470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 179.9390ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 12:47:22 UTC, "current_sign_in_at"=>2014-12-24 02:13:38 UTC, "sign_in_count"=>15, "updated_at"=>2014-12-24 02:13:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 37.3840ms
Redirected to http://localhost:3000/
Completed 302 Found in 513ms


Started GET "/" for 127.0.0.1 at 2014-12-24 03:13:38 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6090ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 12ms (Views: 10.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:13:40 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 24.4130ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.1570ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 16.6020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6110ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5440ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.7420ms
  Rendered admin/users/index.html.haml within layouts/admin (97.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 137ms (Views: 106.6ms)


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 03:29:51 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"logout"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5920ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 03:30:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"logout"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5940ms


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:30:38 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 68.5940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 32.1050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8150ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('5499712f546f6d1b22210000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 35.2090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 5.8600ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a254e546f6d0f83000000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 02:30:38 UTC, "created_at"=>2014-12-24 02:30:38 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5710ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:42:07 UTC, "current_sign_in_at"=>2014-12-24 02:30:38 UTC, "last_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>6, "updated_at"=>2014-12-24 02:30:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5410ms
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:30:38 UTC, "user_status"=>1, "updated_at"=>2014-12-24 02:30:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7060ms
Completed 200 OK in 295ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 03:31:39 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 32.2910ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 03:31:40 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 11.4800ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:32:10 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5470ms
Completed 200 OK in 171ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:32:27 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.5750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4380ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a254e546f6d0f83000000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4720ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3780ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a25bc546f6d0f83010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 02:32:28 UTC, "created_at"=>2014-12-24 02:32:28 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4190ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:19:17 UTC, "current_sign_in_at"=>2014-12-24 02:32:28 UTC, "sign_in_count"=>4, "updated_at"=>2014-12-24 02:32:28 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5320ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:32:28 UTC, "updated_at"=>2014-12-24 02:32:28 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6230ms
Completed 200 OK in 90ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-24 03:32:28 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4240ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 03:32:28 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.5390ms


Started GET "/api/v1/notifications?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 03:32:33 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 45.3690ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c7c546f6d1b22150000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 02:32:33 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 16.1750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5980ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c72546f6d1b22130000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 02:32:33 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6120ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.229 at 2014-12-24 03:33:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7670ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:33:06 UTC, "updated_at"=>2014-12-24 02:33:06 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7850ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-24 03:33:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4050ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 03:33:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.5400ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:33:13 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7570ms
Completed 200 OK in 4ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:33:24 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6740ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a25bc546f6d0f83010000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3520ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a25f4546f6d0f83020000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 02:33:24 UTC, "created_at"=>2014-12-24 02:33:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6450ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:30:38 UTC, "current_sign_in_at"=>2014-12-24 02:33:24 UTC, "sign_in_count"=>7, "updated_at"=>2014-12-24 02:33:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7220ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:33:24 UTC, "updated_at"=>2014-12-24 02:33:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9950ms
Completed 200 OK in 86ms (Views: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:33:54 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5990ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6800ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5540ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4840ms
  Rendered admin/users/index.html.haml within layouts/admin (52.2ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 158ms (Views: 153.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:33:55 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.8040ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6260ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6620ms
  Rendered admin/users/index.html.haml within layouts/admin (55.4ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 66ms (Views: 61.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:33:56 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7970ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.7240ms
  Rendered admin/users/index.html.haml within layouts/admin (50.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 61ms (Views: 56.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-24 03:33:56 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tARLr8u/1BhjqlgsIJHDD1wIE/F43pMfAg3pP794mi0="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5950ms
Redirected to http://localhost:3000/
Completed 302 Found in 3ms


Started GET "/" for 127.0.0.1 at 2014-12-24 03:33:57 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 32ms (Views: 30.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-24 03:33:58 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (12.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 36ms (Views: 33.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-24 03:34:06 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"5nyGK3yTMCtfMtWmp5mofuk0NX8bbJA6N7lZElpJC5k=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6630ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:13:38 UTC, "current_sign_in_at"=>2014-12-24 02:34:06 UTC, "sign_in_count"=>16, "updated_at"=>2014-12-24 02:34:06 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.0180ms
Redirected to http://localhost:3000/
Completed 302 Found in 79ms


Started GET "/" for 127.0.0.1 at 2014-12-24 03:34:06 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5670ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 6.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:34:08 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6400ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.0360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5460ms
  Rendered admin/users/index.html.haml within layouts/admin (52.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 63ms (Views: 58.9ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 03:34:14 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.6200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4340ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 03:34:14 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.5790ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:34:58 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5420ms
Completed 200 OK in 10ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:35:10 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3960ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a25f4546f6d0f83020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3700ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a265e546f6d0f83030000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 02:35:10 UTC, "created_at"=>2014-12-24 02:35:10 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4280ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:32:28 UTC, "current_sign_in_at"=>2014-12-24 02:35:10 UTC, "sign_in_count"=>5, "updated_at"=>2014-12-24 02:35:10 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:35:10 UTC, "updated_at"=>2014-12-24 02:35:10 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5420ms
Completed 200 OK in 83ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-24 03:35:10 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4120ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 03:35:11 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.4970ms


Started POST "/api/v1/accounts/change_profile" for 192.168.0.229 at 2014-12-24 03:36:05 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6750ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"avatar"=>"avatar.png", "updated_at"=>2014-12-24 02:36:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7550ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=avatar_statuses documents=[{"_id"=>BSON::ObjectId('549a26a1546f6d0f83040000'), "status"=>1, "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 02:36:17 UTC, "created_at"=>2014-12-24 02:36:17 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 37.9890ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:36:28 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.0070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.7660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5480ms
  Rendered admin/users/index.html.haml within layouts/admin (43.7ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 57ms (Views: 51.6ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:09 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6280ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7110ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5330ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4560ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5210ms
  Rendered admin/users/index.html.haml within layouts/admin (49.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 60ms (Views: 55.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:18 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6270ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.0730ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4570ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6210ms
  Rendered admin/users/index.html.haml within layouts/admin (58.3ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 71ms (Views: 66.9ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:21 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7220ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6130ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5290ms
  Rendered admin/users/index.html.haml within layouts/admin (43.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 55ms (Views: 51.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:21 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7420ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8810ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5170ms
  Rendered admin/users/index.html.haml within layouts/admin (40.0ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 51ms (Views: 45.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:22 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.3640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7540ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.8040ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.7510ms
  Rendered admin/users/index.html.haml within layouts/admin (45.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 55ms (Views: 51.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:26 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.1290ms
  Rendered admin/users/index.html.haml within layouts/admin (8.8ms)
Completed 500 Internal Server Error in 17ms

NoMethodError - undefined method `sadfid' for #<User:0x007fd93d3a09a8>:
  app/views/admin/users/index.html.haml:34:in `block in _app_views_admin_users_index_html_haml__3161574585904279722_70285505942560'
  app/views/admin/users/index.html.haml:32:in `_app_views_admin_users_index_html_haml__3161574585904279722_70285505942560'
  actionview (4.1.0) lib/action_view/template.rb:145:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/mime_responds.rb:258:in `respond_to'
  app/controllers/admin/users_controller.rb:13:in `index'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
   () Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/bundler/gems/simple-captcha-ab5e8aa1e18d/lib/simple_captcha/middleware.rb:20:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.3) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.3) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.3) lib/thin/connection.rb:53:in `process'
  thin (1.6.3) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.4) lib/eventmachine.rb:187:in `run'
  thin (1.6.3) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.3) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.0) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.0) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.0) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `<main>'



Started POST "/__better_errors/7dbf1875530b17e8/variables" for 127.0.0.1 at 2014-12-24 03:38:26 +0100


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:38:37 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7370ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6260ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5580ms
  Rendered admin/users/index.html.haml within layouts/admin (48.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 61ms (Views: 56.6ms)


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:39:22 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5530ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:39:35 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test3", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test3$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6820ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.6920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6760ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a265e546f6d0f83030000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4760ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2767546f6d0f83050000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "updated_at"=>2014-12-24 02:39:35 UTC, "created_at"=>2014-12-24 02:39:35 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5030ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} update={"$set"=>{"current_sign_in_at"=>2014-12-24 02:39:35 UTC, "sign_in_count"=>2, "updated_at"=>2014-12-24 02:39:35 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6390ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} update={"$set"=>{"time_zone"=>"8", "last_sign_in_at"=>2014-12-24 02:39:35 UTC, "user_status"=>1, "updated_at"=>2014-12-24 02:39:35 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7800ms
Completed 200 OK in 86ms (Views: 0.6ms)


Started GET "/api/v1/medias/medias_for_friend?token=_BzmtUPskDp9NxDS7LYu&friend_id=54996bc6546f6d1b22080000" for 192.168.0.229 at 2014-12-24 03:39:35 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4170ms


Started GET "/api/v1/notifications/notification_count?token=_BzmtUPskDp9NxDS7LYu" for 192.168.0.229 at 2014-12-24 03:39:35 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "is_read"=>false}} runtime: 0.5190ms


Started GET "/api/v1/notifications?token=_BzmtUPskDp9NxDS7LYu" for 192.168.0.229 at 2014-12-24 03:39:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5950ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996dab546f6d1b22190000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 02:39:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996bde546f6d1b220b0000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 02:39:38 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 13.3210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6300ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 03:40:21 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996bde546f6d1b220b0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7920ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996bde546f6d1b220b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8660ms


Started POST "/api/v1/friends/accept_friend" for 192.168.0.229 at 2014-12-24 03:40:21 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6740ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6480ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"invited_friend_ids"=>"", "updated_at"=>2014-12-24 02:40:21 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('549a2795546f6d0f83060000'), "status"=>403, "message"=>"test3 accepted your invitation to friends", "data"=>"54996bc6546f6d1b22080000", "type"=>"accept", "is_read"=>false, "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 02:40:21 UTC, "created_at"=>2014-12-24 02:40:21 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6330ms
  Rendered user_mailer/accept_friend.html.haml (5.5ms)

UserMailer#accept_friend: processed outbound mail in 62.1ms

Sent mail to test2@a.com (218.7ms)
Date: Wed, 24 Dec 2014 03:40:21 +0100
From: support@timechat.com.au
To: test2@a.com
Message-ID: <549a279540b3d_f833fec99065bec27465@Tomass-Mac-mini.local.mail>
Subject: Acceted Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'></div>
    <div class='content'>
      <h3>
        Dear
        Test2
      </h3>
      <p>
        You have been accepted as friend by
        Test3
        <br>
        Please check your friend
      </p>
      <p>
        Thank you,
      </p>
    </div>
    <div class='footer'></div>
  </body>
</html>
<style>
  p, h3{
    color: red;
  }
  h3{
    margin: 0px;
  }
  .header{
    background: url("http://192.168.0.55:3000/assets/email_template_header.png");
    height: 98px;
  }
  .footer{
    background: url("http://192.168.0.55:3000/assets/email_template_mark.png") no-repeat;
    height: 50px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 1.3180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.7680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6490ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000", "updated_at"=>2014-12-24 02:40:21 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"_id"=>BSON::ObjectId('54996bde546f6d1b220b0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4260ms


Started POST "/api/v1/friends/accept_friend" for 192.168.0.229 at 2014-12-24 03:40:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6560ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"invited_friend_ids"=>"", "updated_at"=>2014-12-24 02:40:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8590ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('549a2798546f6d0f83070000'), "status"=>403, "message"=>"test3 accepted your invitation to friends", "data"=>"54996bc6546f6d1b22080000", "type"=>"accept", "is_read"=>false, "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-24 02:40:24 UTC, "created_at"=>2014-12-24 02:40:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5530ms
  Rendered user_mailer/accept_friend.html.haml (0.3ms)

UserMailer#accept_friend: processed outbound mail in 16.8ms

Sent mail to test4@a.com (24.1ms)
Date: Wed, 24 Dec 2014 03:40:24 +0100
From: support@timechat.com.au
To: test4@a.com
Message-ID: <549a279896303_f833fec99065bec27531@Tomass-Mac-mini.local.mail>
Subject: Acceted Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'></div>
    <div class='content'>
      <h3>
        Dear
        Test4
      </h3>
      <p>
        You have been accepted as friend by
        Test3
        <br>
        Please check your friend
      </p>
      <p>
        Thank you,
      </p>
    </div>
    <div class='footer'></div>
  </body>
</html>
<style>
  p, h3{
    color: red;
  }
  h3{
    margin: 0px;
  }
  .header{
    background: url("http://192.168.0.55:3000/assets/email_template_header.png");
    height: 98px;
  }
  .footer{
    background: url("http://192.168.0.55:3000/assets/email_template_mark.png") no-repeat;
    height: 50px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 2.2070ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5540ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000,54996d5e546f6d1b22160000", "updated_at"=>2014-12-24 02:40:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"_id"=>BSON::ObjectId('54996dab546f6d1b22190000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7320ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 03:40:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996dab546f6d1b22190000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.7690ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996dab546f6d1b22190000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7690ms


Started POST "/api/v1/accounts/change_profile" for 192.168.0.229 at 2014-12-24 03:42:01 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6090ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} update={"$set"=>{"avatar"=>"avatar.png", "updated_at"=>2014-12-24 02:42:01 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5700ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=avatar_statuses documents=[{"_id"=>BSON::ObjectId('549a280c546f6d0f83080000'), "status"=>1, "user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "updated_at"=>2014-12-24 02:42:20 UTC, "created_at"=>2014-12-24 02:42:20 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9670ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:42:25 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4440ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5790ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6170ms
  Rendered admin/users/index.html.haml within layouts/admin (32.6ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 44ms (Views: 38.4ms)


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:43:24 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"_BzmtUPskDp9NxDS7LYu"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"_BzmtUPskDp9NxDS7LYu"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5480ms
Completed 200 OK in 8ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:43:36 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test4", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test4$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.6320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5370ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2767546f6d0f83050000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4990ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2858546f6d0f83090000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-24 02:43:36 UTC, "created_at"=>2014-12-24 02:43:36 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5520ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"last_sign_in_at"=>2014-12-23 13:25:50 UTC, "current_sign_in_at"=>2014-12-24 02:43:36 UTC, "sign_in_count"=>2, "updated_at"=>2014-12-24 02:43:36 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5300ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:43:36 UTC, "updated_at"=>2014-12-24 02:43:36 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5360ms
Completed 200 OK in 91ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=6SdTyNE8-23s5vikYs_q&friend_id=54996d5e546f6d1b22160000" for 192.168.0.229 at 2014-12-24 03:43:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8270ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6070ms


Started GET "/api/v1/notifications/notification_count?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-24 03:43:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "is_read"=>false}} runtime: 0.5360ms


Started GET "/api/v1/notifications?token=6SdTyNE8-23s5vikYs_q" for 192.168.0.229 at 2014-12-24 03:43:39 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8280ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a2798546f6d0f83070000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 02:43:39 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5740ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 03:44:00 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a2798546f6d0f83070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4880ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a2798546f6d0f83070000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5180ms


Started POST "/api/v1/accounts/change_profile" for 192.168.0.229 at 2014-12-24 03:44:18 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6080ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} update={"$set"=>{"avatar"=>"avatar.png", "updated_at"=>2014-12-24 02:44:18 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=avatar_statuses documents=[{"_id"=>BSON::ObjectId('549a2890546f6d0f830a0000'), "status"=>1, "user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "updated_at"=>2014-12-24 02:44:32 UTC, "created_at"=>2014-12-24 02:44:32 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7080ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:44:40 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9040ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.7630ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5000ms
  Rendered admin/users/index.html.haml within layouts/admin (27.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 41ms (Views: 35.9ms)


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:45:32 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"6SdTyNE8-23s5vikYs_q"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"6SdTyNE8-23s5vikYs_q"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7200ms
Completed 200 OK in 10ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:46:04 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^tiger@hotmail.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7890ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7090ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2858546f6d0f83090000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a28ed546f6d0f830b0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "updated_at"=>2014-12-24 02:46:05 UTC, "created_at"=>2014-12-24 02:46:05 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5550ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:34:06 UTC, "current_sign_in_at"=>2014-12-24 02:46:05 UTC, "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>17, "updated_at"=>2014-12-24 02:46:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7440ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"time_zone"=>"8", "last_sign_in_at"=>2014-12-24 02:46:05 UTC, "user_status"=>1, "updated_at"=>2014-12-24 02:46:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6820ms
Completed 200 OK in 88ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=BrGW_iihUGMTphW751GK&friend_id=5486f6ab546f6d0247000000" for 192.168.0.229 at 2014-12-24 03:46:05 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6950ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.6060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4190ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 03:46:05 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.6540ms


Started POST "/api/v1/accounts/change_profile" for 192.168.0.229 at 2014-12-24 03:49:28 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8640ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"avatar"=>"avatar.png", "updated_at"=>2014-12-24 02:49:28 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8930ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=avatar_statuses documents=[{"_id"=>BSON::ObjectId('549a29c4546f6d0f830c0000'), "status"=>1, "user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "updated_at"=>2014-12-24 02:49:40 UTC, "created_at"=>2014-12-24 02:49:40 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6630ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:49:51 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6720ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8270ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4760ms
  Rendered admin/users/index.html.haml within layouts/admin (18.0ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 121ms (Views: 116.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 03:49:55 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5770ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7240ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.6460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5860ms
  Rendered admin/users/index.html.haml within layouts/admin (16.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 27ms (Views: 23.1ms)


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:50:03 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"BrGW_iihUGMTphW751GK"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5440ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:50:17 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1 ", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4170ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a28ed546f6d0f830b0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a29e9546f6d0f830d0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 02:50:17 UTC, "created_at"=>2014-12-24 02:50:17 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8890ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:33:24 UTC, "current_sign_in_at"=>2014-12-24 02:50:17 UTC, "sign_in_count"=>8, "updated_at"=>2014-12-24 02:50:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8160ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:50:17 UTC, "updated_at"=>2014-12-24 02:50:17 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5720ms
Completed 200 OK in 92ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 03:51:18 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.7240ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5130ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4250ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 03:51:18 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.5150ms


Started GET "/api/v1/friends?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 03:51:23 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 49.5690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2630ms


Started POST "/api/v1/accounts/read_avatar" for 192.168.0.229 at 2014-12-24 03:53:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4550ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=avatar_statuses selector={"_id"=>BSON::ObjectId('549a26a1546f6d0f83040000')} update={"$set"=>{"status"=>0, "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 02:53:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6120ms


Started POST "/api/v1/accounts/read_avatar" for 192.168.0.229 at 2014-12-24 03:53:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5420ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5350ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=avatar_statuses selector={"_id"=>BSON::ObjectId('549a2890546f6d0f830a0000')} update={"$set"=>{"status"=>0, "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 02:53:32 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7370ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 03:55:50 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7440ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6650ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:55:50 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5390ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:56:26 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^tiger@hotmail.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7200ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a29e9546f6d0f830d0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3830ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2b5a546f6d0f830e0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "updated_at"=>2014-12-24 02:56:26 UTC, "created_at"=>2014-12-24 02:56:26 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6260ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:46:05 UTC, "current_sign_in_at"=>2014-12-24 02:56:26 UTC, "last_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>18, "updated_at"=>2014-12-24 02:56:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8030ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:56:26 UTC, "updated_at"=>2014-12-24 02:56:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7100ms
Completed 200 OK in 89ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=BrGW_iihUGMTphW751GK&friend_id=5486f6ab546f6d0247000000" for 192.168.0.229 at 2014-12-24 03:56:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5570ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4200ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 03:56:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.4540ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:57:03 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"BrGW_iihUGMTphW751GK"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5090ms
Completed 200 OK in 84ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:57:17 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9290ms
Completed 200 OK in 73ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:57:27 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6690ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2b5a546f6d0f830e0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2b97546f6d0f830f0000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 02:57:27 UTC, "created_at"=>2014-12-24 02:57:27 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5560ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:50:17 UTC, "current_sign_in_at"=>2014-12-24 02:57:27 UTC, "sign_in_count"=>9, "updated_at"=>2014-12-24 02:57:27 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6730ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:57:27 UTC, "updated_at"=>2014-12-24 02:57:27 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5260ms
Completed 200 OK in 87ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 03:57:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4450ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 03:57:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6790ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 03:58:01 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7390ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5910ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 03:58:11 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2 ", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7390ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.5810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5580ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2b97546f6d0f830f0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4240ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2bc3546f6d0f83100000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 02:58:11 UTC, "created_at"=>2014-12-24 02:58:11 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4490ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:35:10 UTC, "current_sign_in_at"=>2014-12-24 02:58:11 UTC, "sign_in_count"=>6, "updated_at"=>2014-12-24 02:58:11 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5240ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:58:11 UTC, "updated_at"=>2014-12-24 02:58:11 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6460ms
Completed 200 OK in 86ms (Views: 0.5ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-24 03:59:12 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5670ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4250ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 03:59:12 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.5370ms


Started GET "/api/v1/notifications?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 03:59:27 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8200ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a2795546f6d0f83060000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 02:59:27 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4970ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 04:02:03 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5270ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a2795546f6d0f83060000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4730ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a2795546f6d0f83060000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4550ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 04:02:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c7c546f6d1b22150000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4860ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c7c546f6d1b22150000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7000ms


Started GET "/api/v1/medias/media_info?token=YscX2-QXBixPZeKZd_WN&media_id=54996c11546f6d1b220c0000" for 192.168.0.229 at 2014-12-24 04:02:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6770ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5710ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:03:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 47.7090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5740ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4510ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.8910ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:03:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5550ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4800ms


Started GET "/api/v1/friends?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:04:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.8070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2690ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:06:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.4940ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:06:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.4680ms


Started POST "/api/v1/accounts/read_avatar" for 192.168.0.229 at 2014-12-24 04:06:46 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4240ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=avatar_statuses selector={"_id"=>BSON::ObjectId('54996f48546f6d1b221e0000')} update={"$set"=>{"status"=>0, "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 03:06:46 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5720ms


Started POST "/api/v1/accounts/read_avatar" for 192.168.0.229 at 2014-12-24 04:06:48 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5600ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=avatar_statuses selector={"_id"=>BSON::ObjectId('549a280c546f6d0f83080000')} update={"$set"=>{"status"=>0, "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 03:06:48 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6280ms


Started GET "/api/v1/notifications?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:07:05 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4730ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4980ms


Started GET "/api/v1/medias/media_info?token=YscX2-QXBixPZeKZd_WN&media_id=54996c11546f6d1b220c0000" for 192.168.0.229 at 2014-12-24 04:08:44 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5040ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 04:08:44 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6850ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c72546f6d1b22130000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('54996c72546f6d1b22130000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4820ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:08:53 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5270ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4560ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4250ms


Started GET "/api/v1/comments?media_id=54996c11546f6d1b220c0000&token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:08:53 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8270ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5470ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4610ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('54996c11546f6d1b220c0000')}} runtime: 0.4370ms


Started GET "/api/v1/notifications?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:10:52 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4350ms


Started GET "/api/v1/friends?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:10:58 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4720ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4640ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2880ms


Started GET "/api/v1/notifications?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:13:05 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5130ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3950ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 04:13:23 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6060ms
Completed 200 OK in 8ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 04:13:28 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2@a.com", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^test2@a.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7600ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6550ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2bc3546f6d0f83100000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4230ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2f59546f6d0f83110000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 03:13:29 UTC, "created_at"=>2014-12-24 03:13:29 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:58:11 UTC, "current_sign_in_at"=>2014-12-24 03:13:29 UTC, "sign_in_count"=>7, "updated_at"=>2014-12-24 03:13:29 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:13:29 UTC, "updated_at"=>2014-12-24 03:13:29 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5240ms
Completed 200 OK in 85ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-24 04:14:54 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4600ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:14:55 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.5230ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 04:15:12 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5950ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 04:15:29 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7540ms
Completed 200 OK in 73ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 04:15:58 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test2", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test2$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7560ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5500ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2f59546f6d0f83110000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3410ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a2fee546f6d0f83120000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "updated_at"=>2014-12-24 03:15:58 UTC, "created_at"=>2014-12-24 03:15:58 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4680ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:13:29 UTC, "current_sign_in_at"=>2014-12-24 03:15:58 UTC, "sign_in_count"=>8, "updated_at"=>2014-12-24 03:15:58 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5080ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:15:58 UTC, "updated_at"=>2014-12-24 03:15:58 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5080ms
Completed 200 OK in 85ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996ad9546f6d1b22020000" for 192.168.0.229 at 2014-12-24 04:16:59 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6360ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4880ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4090ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:16:59 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.4340ms


Started GET "/api/v1/friends?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:17:49 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5030ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3460ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.3990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "friend_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "friend_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.2820ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996bc6546f6d1b22080000" for 192.168.0.229 at 2014-12-24 04:20:23 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4670ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4240ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996bc6546f6d1b22080000" for 192.168.0.229 at 2014-12-24 04:20:31 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7110ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6980ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.6120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4470ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 04:20:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3930ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 04:21:41 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4590ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 04:22:10 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5480ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4940ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4210ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 04:23:11 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7380ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4140ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996bc6546f6d1b22080000" for 192.168.0.229 at 2014-12-24 04:23:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7010ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.6000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3760ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4430ms


Started GET "/api/v1/medias/medias_for_friend?token=YscX2-QXBixPZeKZd_WN&friend_id=54996bc6546f6d1b22080000" for 192.168.0.229 at 2014-12-24 04:24:39 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3820ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3910ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 04:28:41 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4970ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6650ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 03:28:41 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5860ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 04:31:00 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7400ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-24 03:31:00 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7560ms


Started GET "/api/v1/notifications/notification_count?token=YscX2-QXBixPZeKZd_WN" for 192.168.0.229 at 2014-12-24 04:31:00 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000'), "is_read"=>false}} runtime: 0.6260ms


Started GET "/admin/users/54996d5e546f6d1b22160000/edit" for 127.0.0.1 at 2014-12-24 04:31:40 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"54996d5e546f6d1b22160000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6550ms
  Rendered admin/users/_form.html.haml (129.3ms)
  Rendered admin/users/edit.html.haml within layouts/admin (135.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 178ms (Views: 173.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:32:10 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 585.7670ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 29.8130ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 19.6000ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 39.3490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4480ms
  Rendered admin/users/index.html.haml within layouts/admin (56.8ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 744ms (Views: 105.0ms)


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 127.0.0.1 at 2014-12-24 04:32:17 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6240ms
  Rendered admin/users/_form.html.haml (18.0ms)
  Rendered admin/users/edit.html.haml within layouts/admin (28.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 59ms (Views: 55.3ms)


Started PATCH "/admin/users/5486f6ab546f6d0247000000" for 127.0.0.1 at 2014-12-24 04:32:46 +0100
Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Ri5hEqkZ5hJL1JrUbbkULeZIh1yKgs/1bl1is5jc6y4=", "user"=>{"avatar"=>#<ActionDispatch::Http::UploadedFile:0x007fd93e3d9cc0 @tempfile=#<Tempfile:/var/folders/yp/z8jss9n56yq6glgz44_nd8t00000gn/T/RackMultipart20141224-3971-marjuu>, @original_filename="1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"1.jpg\"\r\nContent-Type: image/jpeg\r\n">, "name"=>"Tiger", "email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit", "id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4790ms
  Rendered admin/users/_form.html.haml (17.1ms)
  Rendered admin/users/edit.html.haml within layouts/admin (18.8ms)
  Rendered layouts/_navigation.html.haml (0.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 488ms (Views: 124.3ms)


Started PATCH "/admin/users/5486f6ab546f6d0247000000" for 127.0.0.1 at 2014-12-24 04:32:58 +0100
Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Ri5hEqkZ5hJL1JrUbbkULeZIh1yKgs/1bl1is5jc6y4=", "user"=>{"name"=>"Tiger", "email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit", "id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5520ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"encrypted_password"=>"$2a$10$q2lnng6.XCrI567KYjPmSOHaAF/GSo5xajHyrYzK3nj8Nbu9fUXUi", "updated_at"=>2014-12-24 03:32:58 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 214.3890ms
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 299ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:32:58 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6280ms
Redirected to http://localhost:3000/users/sign_in
Filter chain halted as :authenticate_admin rendered or redirected
Completed 302 Found in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-24 04:32:58 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (11.3ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 53ms (Views: 51.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-24 04:33:09 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Ri5hEqkZ5hJL1JrUbbkULeZIh1yKgs/1bl1is5jc6y4=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 70.8510ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:56:26 UTC, "current_sign_in_at"=>2014-12-24 03:33:09 UTC, "current_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>19, "updated_at"=>2014-12-24 03:33:09 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 36.1030ms
Redirected to http://localhost:3000/
Completed 302 Found in 186ms


Started GET "/" for 127.0.0.1 at 2014-12-24 04:33:09 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6210ms
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 62ms (Views: 60.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:33:12 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5840ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.3290ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6820ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4520ms
  Rendered admin/users/index.html.haml within layouts/admin (19.3ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 67ms (Views: 61.7ms)


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 127.0.0.1 at 2014-12-24 04:33:32 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6580ms
  Rendered admin/users/_form.html.haml (18.9ms)
  Rendered admin/users/edit.html.haml within layouts/admin (29.2ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 87ms (Views: 83.3ms)


Started PATCH "/admin/users/5486f6ab546f6d0247000000" for 127.0.0.1 at 2014-12-24 04:33:51 +0100
Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"LwWP4rqevDlHC4NE0DxnvwQguXRInVN/acHsxXnVFaE=", "user"=>{"avatar"=>#<ActionDispatch::Http::UploadedFile:0x007fd93ae2e198 @tempfile=#<Tempfile:/var/folders/yp/z8jss9n56yq6glgz44_nd8t00000gn/T/RackMultipart20141224-3971-19trz4v>, @original_filename="1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"1.jpg\"\r\nContent-Type: image/jpeg\r\n">, "name"=>"Tiger", "email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Submit", "id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 73.0920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7760ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"encrypted_password"=>"$2a$10$FF.sKvdIoICWG9KAjR3lzOJtvrfOw3OFy8TbzxF1yvn96Z3LyEdzO", "avatar"=>"1.jpg", "updated_at"=>2014-12-24 03:33:51 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7390ms
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 10232ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:34:01 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6240ms
Redirected to http://localhost:3000/users/sign_in
Filter chain halted as :authenticate_admin rendered or redirected
Completed 302 Found in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-24 04:34:01 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (12.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 52ms (Views: 50.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-24 04:34:07 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"LwWP4rqevDlHC4NE0DxnvwQguXRInVN/acHsxXnVFaE=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7000ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:33:09 UTC, "current_sign_in_at"=>2014-12-24 03:34:07 UTC, "last_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>20, "updated_at"=>2014-12-24 03:34:07 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8430ms
Redirected to http://localhost:3000/
Completed 302 Found in 80ms


Started GET "/" for 127.0.0.1 at 2014-12-24 04:34:07 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6550ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 9ms (Views: 7.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:34:09 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4220ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4260ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4370ms
  Rendered admin/users/index.html.haml within layouts/admin (14.5ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 20.4ms)


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 04:34:35 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"YscX2-QXBixPZeKZd_WN"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"YscX2-QXBixPZeKZd_WN"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6490ms
Completed 200 OK in 8ms (Views: 0.3ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 04:35:04 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^tiger@hotmail.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 76.0750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6980ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a2fee546f6d0f83120000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 11.4570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 21.5550ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a3469546f6d0f83130000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "updated_at"=>2014-12-24 03:35:05 UTC, "created_at"=>2014-12-24 03:35:05 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 3.7530ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:34:07 UTC, "current_sign_in_at"=>2014-12-24 03:35:05 UTC, "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>21, "updated_at"=>2014-12-24 03:35:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6020ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:35:05 UTC, "updated_at"=>2014-12-24 03:35:05 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5350ms
Completed 200 OK in 200ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=BrGW_iihUGMTphW751GK&friend_id=5486f6ab546f6d0247000000" for 192.168.0.229 at 2014-12-24 04:35:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5070ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 84.6000ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 04:35:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 14.7600ms


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 127.0.0.1 at 2014-12-24 04:35:35 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7320ms
  Rendered admin/users/_form.html.haml (18.4ms)
  Rendered admin/users/edit.html.haml within layouts/admin (19.9ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 31ms (Views: 27.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:40:21 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6540ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4960ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5210ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4600ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4350ms
  Rendered admin/users/index.html.haml within layouts/admin (17.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 147ms (Views: 142.2ms)


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 04:40:26 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7330ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 03:40:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6320ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 04:40:42 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-24 03:40:42 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7400ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 04:40:42 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.7970ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 04:40:44 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"BrGW_iihUGMTphW751GK"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6050ms
Completed 200 OK in 8ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 04:40:57 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"test1 ", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 43.7970ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6480ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a3469546f6d0f83130000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4180ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a35c9546f6d0f83140000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 03:40:57 UTC, "created_at"=>2014-12-24 03:40:57 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6610ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 02:57:27 UTC, "current_sign_in_at"=>2014-12-24 03:40:57 UTC, "sign_in_count"=>10, "updated_at"=>2014-12-24 03:40:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6580ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:40:57 UTC, "updated_at"=>2014-12-24 03:40:57 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5360ms
Completed 200 OK in 131ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 04:41:47 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7690ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3930ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.229 at 2014-12-24 04:41:47 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6390ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 04:42:40 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5740ms
Completed 200 OK in 7ms (Views: 0.2ms)


Started POST "/api/v1/accounts/sign_in" for 192.168.0.229 at 2014-12-24 04:43:29 +0100
Processing by HomeController#create_session as HTML
  Parameters: {"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "timezone"=>"8", "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>/^tiger@hotmail.com$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7480ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 0.6700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6230ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a35c9546f6d0f83140000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.3660ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a3661546f6d0f83150000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "updated_at"=>2014-12-24 03:43:29 UTC, "created_at"=>2014-12-24 03:43:29 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.4850ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:35:05 UTC, "current_sign_in_at"=>2014-12-24 03:43:29 UTC, "last_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>22, "updated_at"=>2014-12-24 03:43:29 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:43:29 UTC, "updated_at"=>2014-12-24 03:43:29 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5270ms
Completed 200 OK in 84ms (Views: 0.3ms)


Started GET "/api/v1/medias/medias_for_friend?token=BrGW_iihUGMTphW751GK&friend_id=5486f6ab546f6d0247000000" for 192.168.0.229 at 2014-12-24 04:43:42 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8830ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5910ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.4800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3930ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 04:43:42 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7130ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.6160ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 04:44:07 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7240ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 03:44:07 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6280ms


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 127.0.0.1 at 2014-12-24 04:47:53 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7000ms
  Rendered admin/users/_form.html.haml (16.4ms)
  Rendered admin/users/edit.html.haml within layouts/admin (17.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 62ms (Views: 56.9ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 04:48:05 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.7780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.4570ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5220ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4430ms
  Rendered admin/users/index.html.haml within layouts/admin (15.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 25ms (Views: 20.9ms)


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 04:48:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7490ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-24 03:48:13 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6400ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 04:48:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7320ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.4990ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 04:48:31 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7170ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 03:48:31 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6490ms


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-24 04:50:33 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"90DqOvpsbz+WTPo+g5NMhHGfKMyzMrFzKx4TCGcuWX4="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7420ms
Redirected to http://localhost:3000/
Completed 302 Found in 4ms


Started GET "/" for 127.0.0.1 at 2014-12-24 04:50:33 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.5ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 34ms (Views: 33.1ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-24 05:53:26 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.9ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (2.5ms)
  Rendered layouts/_footer.html.haml (1.9ms)
Completed 200 OK in 618ms (Views: 588.6ms)


Started GET "/" for 192.168.0.229 at 2014-12-24 05:54:40 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 7ms (Views: 6.8ms)


Started GET "/" for 192.168.0.229 at 2014-12-24 05:54:46 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 7ms (Views: 6.6ms)


Started GET "/" for 192.168.0.229 at 2014-12-24 05:54:48 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.3ms)


Started GET "/users/sign_in" for 192.168.0.229 at 2014-12-24 05:54:50 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (232.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 245ms (Views: 241.9ms)


Started POST "/users/sign_in" for 192.168.0.229 at 2014-12-24 05:55:46 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"MOExAsg4edPwIZ/2WBJvafO/t6r3llfDaai61jJyTS0=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 105.9350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 77.2980ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 03:43:29 UTC, "current_sign_in_at"=>2014-12-24 04:55:46 UTC, "sign_in_count"=>23, "updated_at"=>2014-12-24 04:55:46 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 140.2500ms
Redirected to http://192.168.0.207:3000/
Completed 302 Found in 456ms


Started GET "/" for 192.168.0.229 at 2014-12-24 05:55:46 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8160ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 10ms (Views: 7.6ms)


Started GET "/admin/users" for 192.168.0.229 at 2014-12-24 05:55:50 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7080ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 64.9300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 20.2500ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 17.5120ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.7090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5850ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6300ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6050ms
  Rendered admin/users/index.html.haml within layouts/admin (62.5ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 204ms (Views: 114.7ms)


Started GET "/admin/users/5486f6ab546f6d0247000000/edit" for 192.168.0.229 at 2014-12-24 05:56:19 +0100
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"5486f6ab546f6d0247000000"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7130ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5560ms
  Rendered admin/users/_form.html.haml (352.6ms)
  Rendered admin/users/edit.html.haml within layouts/admin (356.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 367ms (Views: 363.2ms)


Started GET "/admin/users" for 192.168.0.229 at 2014-12-24 05:56:52 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4990ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5390ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6170ms
  Rendered admin/users/index.html.haml within layouts/admin (17.6ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 29ms (Views: 24.6ms)


Started GET "/admin/users" for 192.168.0.229 at 2014-12-24 05:56:52 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4750ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4850ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5090ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5450ms
  Rendered admin/users/index.html.haml within layouts/admin (16.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 39ms (Views: 34.4ms)


Started GET "/admin/users" for 192.168.0.229 at 2014-12-24 05:57:23 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.1580ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4330ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4530ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4720ms
  Rendered admin/users/index.html.haml within layouts/admin (16.4ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 27ms (Views: 22.3ms)


Started POST "/api/v1/accounts/check_token" for 192.168.0.229 at 2014-12-24 09:25:21 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8090ms
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 08:25:21 UTC, "user_status"=>1, "updated_at"=>2014-12-24 08:25:21 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9640ms


Started GET "/api/v1/medias/medias_for_friend?token=BrGW_iihUGMTphW751GK&friend_id=5486f6ab546f6d0247000000" for 192.168.0.229 at 2014-12-24 09:26:23 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.7560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4620ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 27.4300ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 09:26:23 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 9.5460ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:26:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8140ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:26:32 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6420ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 09:26:33 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7690ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-24 08:26:33 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6560ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 09:26:33 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7720ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.4840ms


Started GET "/api/v1/notifications?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 09:26:50 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5400ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.229 at 2014-12-24 09:26:55 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"BrGW_iihUGMTphW751GK"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8020ms
Completed 200 OK in 5ms (Views: 0.3ms)


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:27:00 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7550ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:27:00 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6520ms


Started GET "/admin/users" for 192.168.0.229 at 2014-12-24 09:27:02 +0100
Processing by Admin::UsersController#index as HTML
Redirected to http://192.168.0.207:3000/users/sign_in
Filter chain halted as :authenticate_admin rendered or redirected
Completed 302 Found in 1ms


Started GET "/users/sign_in" for 192.168.0.229 at 2014-12-24 09:27:02 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (12.8ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 53ms (Views: 51.5ms)


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 09:28:47 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7820ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-24 08:28:47 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9840ms


Started GET "/api/v1/notifications/notification_count?token=BrGW_iihUGMTphW751GK" for 192.168.0.229 at 2014-12-24 09:28:48 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000'), "is_read"=>false}} runtime: 0.6400ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:28:56 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"BrGW_iihUGMTphW751GK"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:28:56 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6080ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:29:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"logout"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6270ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.229 at 2014-12-24 09:30:19 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"logout"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5430ms


Started POST "/api/v1/accounts/sign_up" for 192.168.0.229 at 2014-12-24 09:30:20 +0100
Processing by HomeController#sign_up as HTML
  Parameters: {"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "username"=>"Liu YunChang", "social_type"=>"facebook", "user_id"=>"1386870048277711", "email"=>"shihaizhu@yahoo.com", "avatar"=>"https://graph.facebook.com/1386870048277711/picture?type=large", "timezone"=>"8"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"shihaizhu@yahoo.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"email"=>"shihaizhu@yahoo.com"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 16.3910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"name"=>/\ALiu\ YunChang$/i} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 43.0790ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5270ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=users documents=[{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "email"=>"shihaizhu@yahoo.com", "name"=>"Liu YunChang", "encrypted_password"=>"$2a$10$zB6SQfuWcOu/xeGo8LEBteNb9tpfwAPtw5IGML5EUNlGUCZ4uFZw2", "confirmed_value"=>"", "sign_in_count"=>0, "role"=>"user", "social_type"=>"facebook", "social_id"=>"1386870048277711", "time_zone"=>"8", "friend_ids"=>"", "invited_friend_ids"=>"", "ignored_friend_ids"=>"", "push_enable"=>true, "sound_enable"=>true, "theme_type"=>"1", "push_sound"=>"Bamboo", "user_status"=>0, "auto_accept_friend"=>false, "auto_notify_friend"=>false, "avatar"=>"10354686_10150004552801856_220367501106153455_n.jpg", "authentication_token"=>"okcXc9AqsRwk6fo31x-t", "updated_at"=>2014-12-24 08:30:24 UTC, "created_at"=>2014-12-24 08:30:24 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}} runtime: 29.5750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7530ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=devices selector={"_id"=>BSON::ObjectId('549a3661546f6d0f83150000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 1.0180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6680ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A"} flags=[] limit=-1 skip=0 batch_size=nil fields={:_id=>1} runtime: 0.4560ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=devices documents=[{"_id"=>BSON::ObjectId('549a79a2546f6d11f8010000'), "platform"=>"ios", "badge_count"=>0, "dev_id"=>"F0E77CA7-4F90-4E10-B3AA-768FC1FE5D3A", "user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "updated_at"=>2014-12-24 08:30:26 UTC, "created_at"=>2014-12-24 08:30:26 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6190ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 08:30:26 UTC, "current_sign_in_at"=>2014-12-24 08:30:26 UTC, "last_sign_in_ip"=>"192.168.0.229", "current_sign_in_ip"=>"192.168.0.229", "sign_in_count"=>1, "updated_at"=>2014-12-24 08:30:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8280ms
Completed 200 OK in 5281ms (Views: 0.4ms)


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=549a79a0546f6d11f8000000" for 192.168.0.229 at 2014-12-24 09:30:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 4.2710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 2.1050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 1.0410ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6700ms


Started GET "/api/v1/notifications/notification_count?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:30:31 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7950ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 13.0530ms


Started GET "/api/v1/notifications?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:30:32 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7600ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4590ms


Started GET "/api/v1/notifications?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:31:16 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4590ms


Started GET "/api/v1/friends/facebook_users?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:31:55 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"social_type"=>"facebook"} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7750ms


Started POST "/api/v1/friends/add_friend_by_username" for 192.168.0.229 at 2014-12-24 09:33:13 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"name"=>/^test1$/i}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8090ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('549a7a49546f6d11f8020000'), "status"=>402, "message"=>"Liu YunChang wants to add you in his friends", "data"=>"549a79a0546f6d11f8000000", "type"=>"invite", "is_read"=>false, "user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "updated_at"=>2014-12-24 08:33:13 UTC, "created_at"=>2014-12-24 08:33:13 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 46.0460ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.0320ms
  Rendered user_mailer/invite_friend.html.haml (92.1ms)

UserMailer#invite_friend: processed outbound mail in 127.5ms

Sent mail to test1@a.com (75.3ms)
Date: Wed, 24 Dec 2014 09:33:14 +0100
From: support@timechat.com.au
To: test1@a.com
Message-ID: <549a7a4a1b66f_11f83ff63dc65bec357d0@Tomass-Mac-mini.local.mail>
Subject: Invite Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'>
      <img alt="Email template header" src="http://192.168.0.55:3000//assets/email_template_header.png" style="height:98px;" />
    </div>
    <div class='content'>
      <h3>
        Dear
        Test1
      </h3>
      <p>
        You are invited to join Liu yunchang.
        <br>
        Download TimeChat from your device!
      </p>
      <p>
        Thank you,
        <br>
        TimeChat Team!
      </p>
    </div>
    <div class='footer'>
      <img alt="Email template mark" src="http://192.168.0.55:3000//assets/email_template_mark.png" style="height:50px;" />
    </div>
  </body>
</html>
<style>
  p, h3{
    color: black;
  }
  h3{
    margin: 0px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.9680ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.9080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9590ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"friend_ids"=>"54996a20546f6d1b22000000", "invited_friend_ids"=>"54996a20546f6d1b22000000", "updated_at"=>2014-12-24 08:33:14 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8980ms


Started GET "/api/v1/notifications?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:33:27 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5150ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:33:33 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7830ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.229 at 2014-12-24 09:33:41 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7830ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 08:33:41 UTC, "user_status"=>1, "updated_at"=>2014-12-24 08:33:41 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7140ms


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=549a79a0546f6d11f8000000" for 192.168.0.229 at 2014-12-24 09:33:44 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4300ms


Started GET "/api/v1/notifications/notification_count?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:33:45 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.5040ms


Started GET "/api/v1/notifications?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:33:48 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8100ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4550ms


Started POST "/api/v1/accounts/theme_setting" for 192.168.0.229 at 2014-12-24 09:34:00 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9700ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"theme_type"=>"2", "updated_at"=>2014-12-24 08:34:00 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7590ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-24 09:35:15 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7290ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=media documents=[{"_id"=>BSON::ObjectId('549a7ac3546f6d11f8030000'), "media_type"=>"1", "shared_ids"=>"", "user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "file"=>"new.png", "updated_at"=>2014-12-24 08:35:15 UTC, "created_at"=>2014-12-24 08:35:15 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 49.8550ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.5960ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-24 09:36:18 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5570ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=media documents=[{"_id"=>BSON::ObjectId('549a7b02546f6d11f8040000'), "media_type"=>"1", "shared_ids"=>"", "user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "file"=>"new.png", "updated_at"=>2014-12-24 08:36:18 UTC, "created_at"=>2014-12-24 08:36:18 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6350ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.5600ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-24 09:37:26 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7230ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=media documents=[{"_id"=>BSON::ObjectId('549a7b46546f6d11f8050000'), "media_type"=>"0", "shared_ids"=>"", "user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "file"=>"new.mp4", "video_thumb"=>"video_thumb.png", "updated_at"=>2014-12-24 08:37:26 UTC, "created_at"=>2014-12-24 08:37:26 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.6240ms


Started GET "/api/v1/comments?media_id=549a7b46546f6d11f8050000&token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:37:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8080ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 59.9640ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')}} runtime: 16.8410ms


Started GET "/api/v1/comments?media_id=549a7b46546f6d11f8050000&token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:38:09 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6870ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')}} runtime: 0.5590ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-24 09:39:22 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8400ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=media documents=[{"_id"=>BSON::ObjectId('549a7bba546f6d11f8060000'), "media_type"=>"0", "shared_ids"=>"", "user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "file"=>"new.mp4", "video_thumb"=>"video_thumb.png", "updated_at"=>2014-12-24 08:39:22 UTC, "created_at"=>2014-12-24 08:39:22 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.6200ms


Started GET "/api/v1/friends?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:39:50 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8140ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 48.8160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8310ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:39:59 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7790ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:39:59 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7290ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.230 at 2014-12-24 09:40:21 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7780ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 08:40:21 UTC, "updated_at"=>2014-12-24 08:40:21 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7050ms


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.230 at 2014-12-24 09:40:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6170ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4410ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-24 09:40:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9630ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6160ms


Started GET "/api/v1/notifications?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-24 09:40:27 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8090ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 38.7880ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a7a49546f6d11f8020000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 08:40:27 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6070ms


Started POST "/api/v1/friends/accept_friend" for 192.168.0.230 at 2014-12-24 09:40:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8500ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"invited_friend_ids"=>"", "updated_at"=>2014-12-24 08:40:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7620ms
  MOPED: 127.0.0.1:27017 INSERT       database=timechatnet_development collection=notifications documents=[{"_id"=>BSON::ObjectId('549a7bfe546f6d11f8070000'), "status"=>403, "message"=>"test1 accepted your invitation to friends", "data"=>"54996a20546f6d1b22000000", "type"=>"accept", "is_read"=>false, "user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "updated_at"=>2014-12-24 08:40:30 UTC, "created_at"=>2014-12-24 08:40:30 UTC}] flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5530ms
  Rendered user_mailer/accept_friend.html.haml (6.1ms)

UserMailer#accept_friend: processed outbound mail in 45.5ms

Sent mail to shihaizhu@yahoo.com (21.7ms)
Date: Wed, 24 Dec 2014 09:40:30 +0100
From: support@timechat.com.au
To: shihaizhu@yahoo.com
Message-ID: <549a7bfe207e6_11f83ff63dc65bec35816@Tomass-Mac-mini.local.mail>
Subject: Acceted Friend
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  </head>
  <body>
    <div class='header'></div>
    <div class='content'>
      <h3>
        Dear
        Liu yunchang
      </h3>
      <p>
        You have been accepted as friend by
        Test1
        <br>
        Please check your friend
      </p>
      <p>
        Thank you,
      </p>
    </div>
    <div class='footer'></div>
  </body>
</html>
<style>
  p, h3{
    color: red;
  }
  h3{
    margin: 0px;
  }
  .header{
    background: url("http://192.168.0.55:3000/assets/email_template_header.png");
    height: 98px;
  }
  .footer{
    background: url("http://192.168.0.55:3000/assets/email_template_mark.png") no-repeat;
    height: 50px;
  }
</style>
<script>
  var elem = document.getElementById("message_headers");
  elem.remove();
</script>

  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 2.0630ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"devices", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.5610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=devices selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7210ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"friend_ids"=>"54996ad9546f6d1b22020000,54996d5e546f6d1b22160000,549a79a0546f6d11f8000000", "updated_at"=>2014-12-24 08:40:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"_id"=>BSON::ObjectId('549a7a49546f6d11f8020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5820ms


Started POST "/api/v1/notifications/delete" for 192.168.0.230 at 2014-12-24 09:40:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0190ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a7a49546f6d11f8020000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7870ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a7a49546f6d11f8020000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9340ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.229 at 2014-12-24 09:40:36 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7630ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 08:40:36 UTC, "user_status"=>1, "updated_at"=>2014-12-24 08:40:36 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7400ms


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=549a79a0546f6d11f8000000" for 192.168.0.229 at 2014-12-24 09:40:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8280ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5870ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5610ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2990ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.8590ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7800ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5730ms


Started POST "/api/v1/medias/main_page_info" for 192.168.0.229 at 2014-12-24 09:40:38 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8290ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6480ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}} runtime: 0.6770ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"comments", :query=>{"medium_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}} runtime: 0.4360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6430ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.6310ms


Started GET "/api/v1/notifications?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:40:40 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9180ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.0440ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a7bfe546f6d11f8070000')} update={"$set"=>{"is_read"=>true, "updated_at"=>2014-12-24 08:40:40 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5360ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7050ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6190ms


Started POST "/api/v1/notifications/delete" for 192.168.0.229 at 2014-12-24 09:40:51 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7150ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a7bfe546f6d11f8070000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9020ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=notifications selector={"_id"=>BSON::ObjectId('549a7bfe546f6d11f8070000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6230ms


Started GET "/api/v1/friends?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:40:55 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8510ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>nil}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"avatar_statuses", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 46.0490ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "friend_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1010ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=favorites selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "friend_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4970ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.230 at 2014-12-24 09:41:00 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7620ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:41:00 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6340ms


Started POST "/api/v1/accounts/read_avatar" for 192.168.0.229 at 2014-12-24 09:41:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.0780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6400ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=avatar_statuses selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9160ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=avatar_statuses selector={"_id"=>BSON::ObjectId('54996f48546f6d1b221e0000')} update={"$set"=>{"friend_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "updated_at"=>2014-12-24 08:41:06 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7190ms


Started POST "/api/v1/accounts/set_online" for 192.168.0.230 at 2014-12-24 09:41:08 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.1790ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-24 08:41:08 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6890ms


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 09:41:08 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9480ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.7350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 1.1810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5580ms


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.230 at 2014-12-24 09:41:09 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 0.6650ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.230 at 2014-12-24 09:41:16 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6700ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:41:16 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8360ms


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=54996a20546f6d1b22000000" for 192.168.0.229 at 2014-12-24 09:41:17 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7170ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5860ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}}} runtime: 0.5300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-22 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.2910ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$gte"=>2014-12-23 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4560ms


Started GET "/api/v1/comments?media_id=549a7bba546f6d11f8060000&token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:42:22 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5560ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4900ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6010ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}} runtime: 0.4640ms


Started GET "/api/v1/comments?media_id=549a7bba546f6d11f8060000&token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:43:06 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9430ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.4740ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"likes", :query=>{"media_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}} runtime: 0.7070ms


Started GET "/api/v1/notifications?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.229 at 2014-12-24 09:43:16 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=notifications selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5050ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.229 at 2014-12-24 09:43:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9410ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-24 08:43:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6220ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-24 10:21:15 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (17.3ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 49ms (Views: 47.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-24 10:21:22 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Tka7qcryx8gIO+cKHhT+AtFGvOzR9+ZiaulLO5b4ZvU=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5810ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6820ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 04:55:46 UTC, "current_sign_in_at"=>2014-12-24 09:21:22 UTC, "current_sign_in_ip"=>"127.0.0.1", "sign_in_count"=>24, "updated_at"=>2014-12-24 09:21:22 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8540ms
Redirected to http://localhost:3000/
Completed 302 Found in 84ms


Started GET "/" for 127.0.0.1 at 2014-12-24 10:21:22 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9600ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (1.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 46ms (Views: 43.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-24 10:21:23 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8280ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.2610ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6130ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5250ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4650ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.4800ms
  Rendered admin/users/index.html.haml within layouts/admin (21.9ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 74ms (Views: 69.0ms)
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-26 17:35:13 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.3ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (2.5ms)
  Rendered layouts/_footer.html.haml (1.8ms)
Completed 200 OK in 796ms (Views: 766.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:35:19 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (386.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 398ms (Views: 395.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:35:30 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 95.0340ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"admin@timechat.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 81.9060ms
Completed 401 Unauthorized in 199ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"admin@timechat.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (14.9ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 99ms (Views: 24.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:35:43 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6830ms
Completed 401 Unauthorized in 72ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 90ms (Views: 20.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:35:48 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6670ms
Completed 401 Unauthorized in 72ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/sessions/new.html.haml within layouts/application (11.9ms)
  Rendered layouts/_navigation.html.haml (0.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.0ms)
Completed 200 OK in 90ms (Views: 19.8ms)
Overwriting existing field avatar in class User.
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.2300ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6670ms


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:36:41 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7Kt1mYUZB3xURc+c854XR0ZuF4iO313sjsPZBruKc5I=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7170ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-24 13:48:03 UTC, "current_sign_in_at"=>2014-12-26 16:36:41 UTC, "sign_in_count"=>26, "updated_at"=>2014-12-26 16:36:41 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 157.1000ms
Redirected to http://localhost:3000/
Completed 302 Found in 422ms


Started GET "/" for 127.0.0.1 at 2014-12-26 17:36:42 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 22.2330ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 33ms (Views: 9.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-26 17:36:45 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7020ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 25.1330ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.7660ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 30.0820ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6030ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4770ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4870ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.6170ms
  Rendered admin/users/index.html.haml within layouts/admin (74.8ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 139ms (Views: 107.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-26 17:36:51 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"heLCBxypgry+GCAgRV8OGDEiK32VtkeSw/zhy4YLppo="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6040ms
Redirected to http://localhost:3000/
Completed 302 Found in 49ms


Started GET "/" for 127.0.0.1 at 2014-12-26 17:36:51 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 8ms (Views: 7.2ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-26 17:58:35 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (17.2ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (2.3ms)
  Rendered layouts/_footer.html.haml (1.6ms)
Completed 200 OK in 4173ms (Views: 4147.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:58:42 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (271.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 283ms (Views: 279.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-26 17:58:50 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"Ui0kv7A705obOENoHxDbm089ZWsaeLIv878VE5J8Y3k=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.8440ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9480ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-26 16:36:41 UTC, "current_sign_in_at"=>2014-12-26 16:58:50 UTC, "sign_in_count"=>27, "updated_at"=>2014-12-26 16:58:50 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7380ms
Redirected to http://localhost:3000/
Completed 302 Found in 126ms


Started GET "/" for 127.0.0.1 at 2014-12-26 17:58:50 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5860ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 10ms (Views: 7.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-26 17:58:51 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6410ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4630ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.8880ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5760ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5970ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5660ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.5470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.4410ms
  Rendered admin/users/index.html.haml within layouts/admin (40.1ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 53ms (Views: 48.0ms)
Overwriting existing field avatar in class User.


Started GET "/" for 127.0.0.1 at 2014-12-26 18:21:11 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 16.4960ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7620ms
  Rendered home/index.html.haml within layouts/application (16.6ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (2.3ms)
  Rendered layouts/_footer.html.haml (1.6ms)
Completed 200 OK in 418ms (Views: 377.6ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-26 18:21:13 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9900ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.5700ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9460ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.8060ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5100ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4930ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4670ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.4770ms
  Rendered admin/users/index.html.haml within layouts/admin (41.0ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 81ms (Views: 75.0ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=" for 127.0.0.1 at 2014-12-26 18:21:17 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>""}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8180ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4540ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9220ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.7240ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5330ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.5010ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4970ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4710ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.5530ms
  Rendered admin/users/index.html.haml within layouts/admin (20.3ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 32ms (Views: 27.4ms)


Started GET "/admin/users?utf8=%E2%9C%93&search=" for 127.0.0.1 at 2014-12-26 18:21:18 +0100
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"", "search"=>""}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6490ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4780ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9050ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.5470ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.5160ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.4830ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4630ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.4740ms
  Rendered admin/users/index.html.haml within layouts/admin (19.0ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 30ms (Views: 25.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-12-26 18:21:19 +0100
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"5ZxbkZLZuE+YF/ftrOfYlpS87En2J/96r6G+OUJZv5k="}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8470ms
Redirected to http://localhost:3000/
Completed 302 Found in 135ms


Started GET "/" for 127.0.0.1 at 2014-12-26 18:21:19 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 7.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-26 18:21:20 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (136.6ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 149ms (Views: 146.0ms)


Started GET "/" for 127.0.0.1 at 2014-12-26 19:14:07 +0100
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation.html.haml (0.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 49ms (Views: 48.1ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-12-26 19:14:12 +0100
Processing by SessionsController#new as HTML
  Rendered devise/sessions/new.html.haml within layouts/application (12.6ms)
  Rendered layouts/_navigation.html.haml (0.6ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 23ms (Views: 21.4ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-12-26 19:14:21 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"", "authenticity_token"=>"7ZeRi++P3MbxKJ77OdXXohm9SG6SBaI4OsDPwA3cmfY=", "user"=>{"email"=>"tiger@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.7120ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"email"=>"tiger@hotmail.com"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8640ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-26 16:58:50 UTC, "current_sign_in_at"=>2014-12-26 18:14:21 UTC, "sign_in_count"=>28, "updated_at"=>2014-12-26 18:14:21 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.8500ms
Redirected to http://localhost:3000/
Completed 302 Found in 147ms


Started GET "/" for 127.0.0.1 at 2014-12-26 19:14:21 +0100
Processing by HomeController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6370ms
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.haml (0.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 11ms (Views: 9.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2014-12-26 19:14:24 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4020ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 0.9940ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.6150ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4570ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.4950ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.4940ms
  Rendered admin/users/index.html.haml within layouts/admin (19.7ms)
  Rendered layouts/_navigation.html.haml (0.4ms)
  Rendered layouts/_messages.html.haml (0.1ms)
  Rendered layouts/_footer.html.haml (0.1ms)
Completed 200 OK in 62ms (Views: 57.0ms)
Overwriting existing field avatar in class User.
Overwriting existing field avatar in class User.


Started POST "/api/v1/accounts/check_token" for 192.168.0.220 at 2014-12-27 02:24:41 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 17.9750ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9290ms
Overwriting existing field file in class Medium.
Overwriting existing field video_thumb in class Medium.
Overwriting existing field audio_comment in class Comment.
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-27 01:24:41 UTC, "user_status"=>1, "updated_at"=>2014-12-27 01:24:41 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9620ms


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=549a79a0546f6d11f8000000" for 192.168.0.220 at 2014-12-27 02:25:43 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7950ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.7520ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-25 00:00:00 UTC}}} runtime: 0.8870ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-25 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.9320ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7ac3546f6d11f8030000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 28.8310ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7ac3546f6d11f8030000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 29.0370ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8860ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7b02546f6d11f8040000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5990ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7b02546f6d11f8040000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7310ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8060ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5620ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7b46546f6d11f8050000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.9240ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8980ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5780ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('549a7bba546f6d11f8060000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6520ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7000ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$gte"=>2014-12-26 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 29.1010ms


Started GET "/api/v1/notifications/notification_count?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.220 at 2014-12-27 02:26:04 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7840ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.4830ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.220 at 2014-12-27 02:29:42 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5580ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9170ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-27 01:29:42 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.7440ms


Started GET "/admin/users" for 127.0.0.1 at 2014-12-27 02:41:28 +0100
Processing by Admin::UsersController#index as HTML
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5530ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7380ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"users", :query=>{}} runtime: 0.4450ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={} flags=[] limit=10 skip=0 batch_size=nil fields=nil runtime: 1.2420ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('5486f6ab546f6d0247000000')}} runtime: 0.7500ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}} runtime: 0.6190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996ad9546f6d1b22020000')}} runtime: 0.4800ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996bc6546f6d1b22080000')}} runtime: 0.6190ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996d5e546f6d1b22160000')}} runtime: 0.6820ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')}} runtime: 0.5830ms
  Rendered admin/users/index.html.haml within layouts/admin (44.0ms)
  Rendered layouts/_navigation.html.haml (6.0ms)
  Rendered layouts/_messages.html.haml (3.1ms)
  Rendered layouts/_footer.html.haml (1.8ms)
Completed 200 OK in 740ms (Views: 708.4ms)


Started POST "/api/v1/accounts/set_online" for 192.168.0.220 at 2014-12-27 03:41:23 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 82.6660ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 32.9720ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"user_status"=>1, "updated_at"=>2014-12-27 02:41:24 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 42.2190ms


Started GET "/api/v1/notifications/notification_count?token=okcXc9AqsRwk6fo31x-t" for 192.168.0.220 at 2014-12-27 03:41:24 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7690ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "is_read"=>false}} runtime: 0.5470ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.220 at 2014-12-27 03:41:26 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8570ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-27 02:41:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6700ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.220 at 2014-12-27 09:39:25 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 51.5350ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 147.0480ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-27 08:39:26 UTC, "user_status"=>1, "updated_at"=>2014-12-27 08:39:26 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 30.4950ms


Started GET "/api/v1/medias/medias_for_friend?token=okcXc9AqsRwk6fo31x-t&friend_id=549a79a0546f6d11f8000000" for 192.168.0.220 at 2014-12-27 09:39:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9040ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6990ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-25 00:00:00 UTC}}} runtime: 38.3570ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$lte"=>2014-12-25 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.6200ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"$query"=>{"user_id"=>BSON::ObjectId('549a79a0546f6d11f8000000'), "created_at"=>{"$gte"=>2014-12-26 16:00:00 UTC}}, "$orderby"=>{"created_at"=>1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 61.9350ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.220 at 2014-12-27 09:39:30 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"okcXc9AqsRwk6fo31x-t"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7810ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('549a79a0546f6d11f8000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-27 08:39:30 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6600ms


Started POST "/api/v1/accounts/check_token" for 192.168.0.227 at 2014-12-27 11:51:41 +0100
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.5230ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6630ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-27 10:51:41 UTC, "user_status"=>1, "updated_at"=>2014-12-27 10:51:41 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5860ms


Started GET "/api/v1/medias/medias_for_friend?token=ewztFdXJk9PtHsGuRUpy&friend_id=54996a20546f6d1b22000000" for 192.168.0.227 at 2014-12-27 11:51:42 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8160ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.5880ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"media", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-25 00:00:00 UTC}}} runtime: 0.4890ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=media selector={"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "created_at"=>{"$lte"=>2014-12-25 00:00:00 UTC}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 0.3920ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=comments selector={"$query"=>{"medium_id"=>BSON::ObjectId('54996f23546f6d1b221c0000')}, "$orderby"=>{"created_at"=>-1}} flags=[] limit=0 skip=0 batch_size=nil fields=nil runtime: 60.3220ms
  MOPED: 127.0.0.1:27017 DELETE       database=timechatnet_development collection=media selector={"_id"=>BSON::ObjectId('54996f23546f6d1b221c0000')} flags=[:remove_first]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 34.6650ms
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9730ms

Excon::Errors::SocketError (getaddrinfo: nodename nor servname provided, or not known (SocketError)):
  app/models/user.rb:419:in `clear_media'
  app/api/endpoints/medias.rb:88:in `block (2 levels) in <class:Medias>'


  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.5ms)
  Rendered /Users/TomasMAC/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/actionpack-4.1.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (47.2ms)


Started GET "/api/v1/notifications/notification_count?token=ewztFdXJk9PtHsGuRUpy" for 192.168.0.227 at 2014-12-27 11:54:03 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7340ms
  MOPED: 127.0.0.1:27017 COMMAND      database=timechatnet_development command={:count=>"notifications", :query=>{"user_id"=>BSON::ObjectId('54996a20546f6d1b22000000'), "is_read"=>false}} runtime: 10.0850ms


Started POST "/api/v1/accounts/sign_out" for 192.168.0.227 at 2014-12-27 11:54:03 +0100
Processing by HomeController#delete_session as HTML
  Parameters: {"token"=>"ewztFdXJk9PtHsGuRUpy"}
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7650ms
Completed 200 OK in 4ms (Views: 0.2ms)


Started POST "/api/v1/accounts/check_token" for 192.168.0.227 at 2014-12-27 11:54:03 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7090ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"last_sign_in_at"=>2014-12-27 10:54:03 UTC, "updated_at"=>2014-12-27 10:54:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.6480ms


Started POST "/api/v1/accounts/set_offline" for 192.168.0.227 at 2014-12-27 11:54:03 +0100
  MOPED: 127.0.0.1:27017 QUERY        database=timechatnet_development collection=users selector={"$query"=>{"authentication_token"=>"ewztFdXJk9PtHsGuRUpy"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6710ms
  MOPED: 127.0.0.1:27017 UPDATE       database=timechatnet_development collection=users selector={"_id"=>BSON::ObjectId('54996a20546f6d1b22000000')} update={"$set"=>{"user_status"=>0, "updated_at"=>2014-12-27 10:54:03 UTC}} flags=[]
                         COMMAND      database=timechatnet_development command={:getlasterror=>1, :w=>1} runtime: 0.5620ms
